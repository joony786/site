(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{151:function(){},6653:function(t,e,n){"use strict";n.d(e,{vyQ:function(){return i}});var r=n(8357);function i(t){return(0,r.w_)({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"}}]})(t)}},8357:function(t,e,n){"use strict";n.d(e,{w_:function(){return u}});var r=n(7294),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(i),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function c(t){return t&&t.map((function(t,e){return r.createElement(t.tag,a({key:e},t.attr),c(t.child))}))}function u(t){return function(e){return r.createElement(l,a({attr:a({},t.attr)},e),c(t.child))}}function l(t){var e=function(e){var n,i=t.attr,o=t.size,c=t.title,u=s(t,["attr","size","title"]),l=o||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:n,style:a(a({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),t.children)};return void 0!==o?r.createElement(o.Consumer,null,(function(t){return e(t)})):e(i)}},9447:function(t,e,n){"use strict";n.d(e,{R:function(){return Co}});var r=n(7294),i=n(2473),o=n.n(i),a=s()?r.useLayoutEffect:r.useEffect;o(),"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;function s(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var c=n(3935);var u=function(t){var e=t.children,n=t.type,i=void 0===n?"reach-portal":n,o=(0,r.useRef)(null),s=(0,r.useRef)(null),u=function(){var t=(0,r.useState)(Object.create(null))[1];return(0,r.useCallback)((function(){t(Object.create(null))}),[])}();return a((function(){if(o.current){var t=o.current.ownerDocument;return s.current=null==t?void 0:t.createElement(i),t.body.appendChild(s.current),u(),function(){s.current&&s.current.ownerDocument&&s.current.ownerDocument.body.removeChild(s.current)}}}),[i,u]),s.current?(0,c.createPortal)(e,s.current):(0,r.createElement)("span",{ref:o})},l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(wt){i={error:wt}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var p,y={},g="xstate.guard";function m(t){return Object.keys(t)}function b(t,e,n){void 0===n&&(n=".");var r=x(t,n),i=x(e,n);return V(i)?!!V(r)&&i===r:V(r)?r in i:m(r).every((function(t){return t in i&&b(r[t],i[t])}))}function w(t){try{return V(t)||"number"===typeof t?"".concat(t):t.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function S(t,e){try{return M(t)?t:t.toString().split(e)}catch(n){throw new Error("'".concat(t,"' is not a valid state path."))}}function x(t,e){return"object"===typeof(n=t)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?t.value:M(t)?E(t):"string"!==typeof t?t:E(S(t,e));var n}function E(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function O(t,e){for(var n={},r=m(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function k(t,e,n){var r,i,o={};try{for(var a=d(m(t)),s=a.next();!s.done;s=a.next()){var c=s.value,u=t[c];n(u)&&(o[c]=e(u,c,t))}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var T=function(t){return function(e){var n,r,i=e;try{for(var o=d(t),a=o.next();!a.done;a=o.next()){i=i[a.value]}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function P(t){return t?V(t)?[[t]]:C(m(t).map((function(e){var n=t[e];return"string"===typeof n||n&&Object.keys(n).length?P(t[e]).map((function(t){return[e].concat(t)})):[[e]]}))):[[]]}function C(t){var e;return(e=[]).concat.apply(e,v([],h(t),!1))}function R(t){return M(t)?t:[t]}function _(t){return void 0===t?[]:R(t)}function N(t,e,n){var r,i;if(z(t))return t(e,n.data);var o={};try{for(var a=d(Object.keys(t)),s=a.next();!s.done;s=a.next()){var c=s.value,u=t[c];z(u)?o[c]=u(e,n.data):o[c]=u}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function j(t){return t instanceof Promise||!(null===t||!z(t)&&"object"!==typeof t||!z(t.then))}function A(t,e){var n,r,i=h([[],[]],2),o=i[0],a=i[1];try{for(var s=d(t),c=s.next();!c.done;c=s.next()){var u=c.value;e(u)?o.push(u):a.push(u)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}function D(t,e){return O(t.states,(function(t,n){if(t){var r=(V(e)?void 0:e[n])||(t?t.current:void 0);if(r)return{current:r,states:D(t,r)}}}))}function I(t,e,n,r){return t?n.reduce((function(t,n){var i,o,a=n.assignment,s={state:r,action:n,_event:e},c={};if(z(a))c=a(t,e.data,s);else try{for(var u=d(m(a)),l=u.next();!l.done;l=u.next()){var f=l.value,h=a[f];c[f]=z(h)?h(t,e.data,s):h}}catch(v){i={error:v}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},t,c)}),t):t}var L=function(){};function M(t){return Array.isArray(t)}function z(t){return"function"===typeof t}function V(t){return"string"===typeof t}function F(t,e){if(t)return V(t)?{type:g,name:t,predicate:e?e[t]:void 0}:z(t)?{type:g,name:t.name,predicate:t}:t}var B=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}(),H=((p={})[B]=function(){return this},p);function G(t){try{return"__xstatenode"in t}catch(e){return!1}}function q(t,e){return V(t)||"number"===typeof t?l({type:t},e):t}function K(t,e){if(!V(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=q(t);return l({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function U(t,e){return R(e).map((function(e){return"undefined"===typeof e||"string"===typeof e||G(e)?{target:e,event:t}:l(l({},e),{event:t})}))}function $(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===g)return((null===o||void 0===o?void 0:o[e.name])||e.predicate)(n,r.data,a);var s=o[e.type];if(!s)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return s(n,r.data,a)}function W(t){return"string"===typeof t?{type:t}:t}function X(t,e,n){if("object"===typeof t)return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}function J(t,e){return"".concat(t,":invocation[").concat(e,"]")}var Z,Y,Q=function(t){return"atomic"===t.type||"final"===t.type};function tt(t){return m(t.states).map((function(e){return t.states[e]}))}function et(t){var e=[t];return Q(t)?e:e.concat(C(tt(t).map(et)))}function nt(t,e){var n,r,i,o,a,s,c,u,l=it(new Set(t)),f=new Set(e);try{for(var h=d(f),v=h.next();!v.done;v=h.next())for(var p=(O=v.value).parent;p&&!f.has(p);)f.add(p),p=p.parent}catch(k){n={error:k}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var y=it(f);try{for(var g=d(f),m=g.next();!m.done;m=g.next()){if("compound"!==(O=m.value).type||y.get(O)&&y.get(O).length){if("parallel"===O.type)try{for(var b=(a=void 0,d(tt(O))),w=b.next();!w.done;w=b.next()){var S=w.value;"history"!==S.type&&(f.has(S)||(f.add(S),l.get(S)?l.get(S).forEach((function(t){return f.add(t)})):S.initialStateNodes.forEach((function(t){return f.add(t)}))))}}catch(T){a={error:T}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}}else l.get(O)?l.get(O).forEach((function(t){return f.add(t)})):O.initialStateNodes.forEach((function(t){return f.add(t)}))}}catch(P){i={error:P}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var x=d(f),E=x.next();!E.done;E=x.next()){var O;for(p=(O=E.value).parent;p&&!f.has(p);)f.add(p),p=p.parent}}catch(C){c={error:C}}finally{try{E&&!E.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}return f}function rt(t,e){var n=e.get(t);if(!n)return{};if("compound"===t.type){var r=n[0];if(!r)return{};if(Q(r))return r.key}var i={};return n.forEach((function(t){i[t.key]=rt(t,e)})),i}function it(t){var e,n,r=new Map;try{for(var i=d(t),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function ot(t,e){return rt(t,it(nt([t],e)))}function at(t,e){return Array.isArray(t)?t.some((function(t){return t===e})):t instanceof Set&&t.has(e)}function st(t,e){return"compound"===e.type?tt(e).some((function(e){return"final"===e.type&&at(t,e)})):"parallel"===e.type&&tt(e).every((function(e){return st(t,e)}))}function ct(t){return new Set(C(t.map((function(t){return t.tags}))))}!function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"}(Z||(Z={})),function(t){t.Parent="#_parent",t.Internal="#_internal"}(Y||(Y={}));var ut=Z.Start,lt=Z.Stop,ft=Z.Raise,dt=Z.Send,ht=Z.Cancel,vt=Z.NullEvent,pt=Z.Assign,yt=(Z.After,Z.DoneState,Z.Log),gt=Z.Init,mt=Z.Invoke,bt=(Z.ErrorExecution,Z.ErrorPlatform),wt=Z.ErrorCustom,St=Z.Update,xt=Z.Choose,Et=Z.Pure,Ot=K({type:gt});function kt(t,e){return e&&e[t]||void 0}function Tt(t,e){var n;if(V(t)||"number"===typeof t)n=z(r=kt(t,e))?{type:t,exec:r}:r||{type:t,exec:void 0};else if(z(t))n={type:t.name||t.toString(),exec:t};else{var r;if(z(r=kt(t.type,e)))n=l(l({},t),{exec:r});else if(r){var i=r.type||t.type;n=l(l(l({},r),t),{type:i})}else n=t}return n}var Pt=function(t,e){return t?(M(t)?t:[t]).map((function(t){return Tt(t,e)})):[]};function Ct(t){var e=Tt(t);return l(l({id:V(t)?t:e.id},e),{type:e.type})}function Rt(t){return V(t)?{type:ft,event:t}:_t(t,{to:Y.Internal})}function _t(t,e){return{to:e?e.to:void 0,type:dt,event:z(t)?t:q(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:z(t)?t.name:w(t)}}function Nt(t,e){var n="".concat(Z.DoneState,".").concat(t),r={type:n,data:e,toString:function(){return n}};return r}function jt(t,e){var n="".concat(Z.DoneInvoke,".").concat(t),r={type:n,data:e,toString:function(){return n}};return r}function At(t,e){var n="".concat(Z.ErrorPlatform,".").concat(t),r={type:n,data:e,toString:function(){return n}};return r}function Dt(t,e,n,r,i,o){void 0===o&&(o=!1);var a=h(o?[[],i]:A(i,(function(t){return t.type===pt})),2),s=a[0],c=a[1],u=s.length?I(n,r,s,e):n,f=o?[n]:void 0;return[C(c.map((function(n){var i;switch(n.type){case ft:return{type:ft,_event:K(n.event)};case dt:var a=function(t,e,n,r){var i,o={_event:n},a=K(z(t.event)?t.event(e,n.data,o):t.event);if(V(t.delay)){var s=r&&r[t.delay];i=z(s)?s(e,n.data,o):s}else i=z(t.delay)?t.delay(e,n.data,o):t.delay;var c=z(t.to)?t.to(e,n.data,o):t.to;return l(l({},t),{to:c,_event:a,event:a.data,delay:i})}(n,u,r,t.options.delays);return a;case yt:return function(t,e,n){return l(l({},t),{value:V(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})}(n,u,r);case xt:if(!(p=null===(i=n.conds.find((function(n){var i=F(n.cond,t.options.guards);return!i||$(t,i,u,r,e)})))||void 0===i?void 0:i.actions))return[];var s=h(Dt(t,e,u,r,Pt(_(p),t.options.actions),o),2),c=s[0],d=s[1];return u=d,null===f||void 0===f||f.push(u),c;case Et:var p;if(!(p=n.get(u,r.data)))return[];var y=h(Dt(t,e,u,r,Pt(_(p),t.options.actions),o),2),g=y[0],m=y[1];return u=m,null===f||void 0===f||f.push(u),g;case lt:return function(t,e,n){var r=z(t.activity)?t.activity(e,n.data):t.activity,i="string"===typeof r?{id:r}:r;return{type:Z.Stop,activity:i}}(n,u,r);case pt:u=I(u,r,[n],e),null===f||void 0===f||f.push(u);break;default:var b=Tt(n,t.options.actions),w=b.exec;if(w&&f){var S=f.length-1;b=l(l({},b),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];w.apply(void 0,v([f[S]],h(e),!1))}})}return b}})).filter((function(t){return!!t}))),u]}function It(t,e){if(t===e)return!0;if(void 0===t||void 0===e)return!1;if(V(t)||V(e))return t===e;var n=m(t),r=m(e);return n.length===r.length&&n.every((function(n){return It(t[n],e[n])}))}var Lt=function(){function t(t){var e,n,r=this;this.actions=[],this.activities=y,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||y,this.meta=(void 0===(n=t.configuration)&&(n=[]),n.reduce((function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t}),{})),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(e=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==e?e:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(t){return v([],h(new Set(C(v([],h(t.map((function(t){return t.ownEvents}))),!1)))),!1)}(r.configuration)}})}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new t({value:e,context:n,_event:Ot,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Ot;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),V(t))return[t];var r=m(t);return r.concat.apply(r,v([],h(r.map((function(r){return n.toStrings(t[r],e).map((function(t){return r+e+t}))}))),!1))},t.prototype.toJSON=function(){var t=this,e=(t.configuration,t.transitions,t.tags),n=(t.machine,f(t,["configuration","transitions","tags","machine"]));return l(l({},n),{tags:Array.from(e)})},t.prototype.matches=function(t){return b(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){var e;L(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(e=this.machine)||void 0===e?void 0:e.getTransitionData(this,t);return!!(null===n||void 0===n?void 0:n.transitions.length)&&n.transitions.some((function(t){return void 0!==t.target||t.actions.length}))},t}(),Mt=r.useLayoutEffect,zt=[],Vt=function(t,e){zt.push(t);var n=e(t);return zt.pop(),n};function Ft(t){return l({id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},H)}function Bt(t,e,n,r){var i,o=W(t.src),a=null===(i=null===e||void 0===e?void 0:e.options.services)||void 0===i?void 0:i[o.type],s=t.data?N(t.data,n,r):void 0,c=a?function(t,e,n){var r=Ft(e);if(r.deferred=!0,G(t)){var i=r.state=Vt(void 0,(function(){return(n?t.withContext(n):t).initialState}));r.getSnapshot=function(){return i}}return r}(a,t.id,s):Ft(t.id);return c.meta=t,c}var Ht={deferEvents:!1},Gt=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=l(l({},Ht),t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents)return void this.schedule(t);this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()}else this.queue.push(t)},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},t}(),qt=new Map,Kt=0,Ut=function(){return"x:".concat(Kt++)},$t=function(t,e){return qt.set(t,e),t},Wt=function(t){return qt.get(t)},Xt=function(t){qt.delete(t)};function Jt(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0}function Zt(t){if(Jt()){var e=function(){var t=Jt();if(t&&"__xstate__"in t)return t.__xstate__}();e&&e.register(t)}}function Yt(t,e){void 0===e&&(e={});var n,r=t.initialState,i=new Set,o=[],a=!1,s=(n={id:e.id,send:function(e){o.push(e),function(){if(!a){for(a=!0;o.length>0;){var e=o.shift();r=t.transition(r,e,c),i.forEach((function(t){return t.next(r)}))}a=!1}}()},getSnapshot:function(){return r},subscribe:function(t,e,n){var o=X(t,e,n);return i.add(o),o.next(r),{unsubscribe:function(){i.delete(o)}}}},l(l({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},H),n)),c={parent:e.parent,self:s,id:e.id||"anonymous",observers:i};return r=t.start?t.start(c):r,s}var Qt,te={sync:!1,autoForward:!1};!function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(Qt||(Qt={}));var ee,ne=function(){function t(e,n){var r=this;void 0===n&&(n=t.defaultOptions),this.machine=e,this.scheduler=new Gt,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Qt.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(t,e){if(M(t))return r.batch(t),r.state;var n=K(q(t,e));if(r.status===Qt.Stopped)return r.state;if(r.status!==Qt.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var t=r.nextState(n);r.update(t,n)})),r._state},this.sendTo=function(t,e){var n,i=r.parent&&(e===Y.Parent||r.parent.id===e),o=i?r.parent:V(e)?r.children.get(e)||Wt(e):(n=e)&&"function"===typeof n.send?e:void 0;if(o)"machine"in o?o.send(l(l({},t),{name:t.name===wt?"".concat(At(r.id)):t.name,origin:r.sessionId})):o.send(t.data);else if(!i)throw new Error("Unable to send event to child '".concat(e,"' from service '").concat(r.id,"'."))};var i=l(l({},t.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:e.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new Gt({deferEvents:this.options.deferEvents}),this.sessionId=Ut()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Vt(this,(function(){return t._initialState=t.machine.initialState,t._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(t,e){var n,r;try{for(var i=d(t.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,t,e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.update=function(t,e){var n,r,i,o,a,s,c,u,l=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach((function(t){l.state.children[t.id]=t})),this.devTools&&this.devTools.send(e.data,t),t.event)try{for(var f=d(this.eventListeners),h=f.next();!h.done;h=f.next()){(0,h.value)(t.event)}}catch(E){n={error:E}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var v=d(this.listeners),p=v.next();!p.done;p=v.next()){(0,p.value)(t,t.event)}}catch(O){i={error:O}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=d(this.contextListeners),g=y.next();!g.done;g=y.next()){(0,g.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(k){a={error:k}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}var m=st(t.configuration||[],this.machine);if(this.state.configuration&&m){var b=t.configuration.find((function(t){return"final"===t.type&&t.parent===l.machine})),w=b&&b.doneData?N(b.doneData,t.context,e):void 0;try{for(var S=d(this.doneListeners),x=S.next();!x.done;x=S.next()){(0,x.value)(jt(this.id,w))}}catch(T){c={error:T}}finally{try{x&&!x.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}this.stop()}},t.prototype.onTransition=function(t){return this.listeners.add(t),this.status===Qt.Running&&t(this.state,this.state.event),this},t.prototype.subscribe=function(t,e,n){var r,i=this;if(!t)return{unsubscribe:function(){}};var o=n;return"function"===typeof t?r=t:(r=t.next.bind(t),o=t.complete.bind(t)),this.listeners.add(r),this.status===Qt.Running&&r(this.state),o&&this.onDone(o),{unsubscribe:function(){r&&i.listeners.delete(r),o&&i.doneListeners.delete(o)}}},t.prototype.onEvent=function(t){return this.eventListeners.add(t),this},t.prototype.onSend=function(t){return this.sendListeners.add(t),this},t.prototype.onChange=function(t){return this.contextListeners.add(t),this},t.prototype.onStop=function(t){return this.stopListeners.add(t),this},t.prototype.onDone=function(t){return this.doneListeners.add(t),this},t.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},t.prototype.start=function(t){var e=this;if(this.status===Qt.Running)return this;$t(this.sessionId,this),this.initialized=!0,this.status=Qt.Running;var n=void 0===t?this.initialState:Vt(this,(function(){return!V(n=t)&&"value"in n&&"history"in n?e.machine.resolveState(t):e.machine.resolveState(Lt.from(t,e.machine.context));var n}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){e.update(n,Ot)})),this},t.prototype.stop=function(){var t,e,n,r,i,o,a,s,c,u,l=this;try{for(var f=d(this.listeners),p=f.next();!p.done;p=f.next()){var y=p.value;this.listeners.delete(y)}}catch(P){t={error:P}}finally{try{p&&!p.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}try{for(var g=d(this.stopListeners),b=g.next();!b.done;b=g.next()){(y=b.value)(),this.stopListeners.delete(y)}}catch(C){n={error:C}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}try{for(var w=d(this.contextListeners),S=w.next();!S.done;S=w.next()){y=S.value;this.contextListeners.delete(y)}}catch(R){i={error:R}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}try{for(var x=d(this.doneListeners),E=x.next();!E.done;E=x.next()){y=E.value;this.doneListeners.delete(y)}}catch(_){a={error:_}}finally{try{E&&!E.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}if(!this.initialized)return this;v([],h(this.state.configuration),!1).sort((function(t,e){return e.order-t.order})).forEach((function(t){var e,n;try{for(var r=d(t.definition.exit),i=r.next();!i.done;i=r.next()){var o=i.value;l.exec(o,l.state)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})),this.children.forEach((function(t){z(t.stop)&&t.stop()}));try{for(var O=d(m(this.delayedEventsMap)),k=O.next();!k.done;k=O.next()){var T=k.value;this.clock.clearTimeout(this.delayedEventsMap[T])}}catch(N){c={error:N}}finally{try{k&&!k.done&&(u=O.return)&&u.call(O)}finally{if(c)throw c.error}}return this.scheduler.clear(),this.initialized=!1,this.status=Qt.Stopped,Xt(this.sessionId),this},t.prototype.batch=function(t){var e=this;if(this.status===Qt.NotStarted&&this.options.deferEvents)0;else if(this.status!==Qt.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule((function(){var n,r,i=e.state,o=!1,a=[],s=function(t){var n=K(t);e.forward(n),i=Vt(e,(function(){return e.machine.transition(i,n)})),a.push.apply(a,v([],h(i.actions.map((function(t){return function(t,e){var n=t.exec;return l(l({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})}(t,i)}))),!1)),o=o||!!i.changed};try{for(var c=d(t),u=c.next();!u.done;u=c.next()){s(u.value)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}i.changed=o,i.actions=a,e.update(i,K(t[t.length-1]))}))},t.prototype.sender=function(t){return this.send.bind(this,t)},t.prototype.nextState=function(t){var e=this,n=K(t);if(0===n.name.indexOf(bt)&&!this.state.nextEvents.some((function(t){return 0===t.indexOf(bt)})))throw n.data.data;return Vt(this,(function(){return e.machine.transition(e.state,n)}))},t.prototype.forward=function(t){var e,n;try{for(var r=d(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(t)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.defer=function(t){var e=this;this.delayedEventsMap[t.id]=this.clock.setTimeout((function(){t.to?e.sendTo(t._event,t.to):e.send(t._event)}),t.delay)},t.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},t.prototype.exec=function(t,e,n){void 0===n&&(n=this.machine.options.actions);var r=e.context,i=e._event,o=t.exec||kt(t.type,n),a=z(o)?o:o?o.exec:t.exec;if(a)try{return a(r,i.data,{action:t,state:this.state,_event:i})}catch(b){throw this.parent&&this.parent.send({type:"xstate.error",data:b}),b}switch(t.type){case dt:var s=t;if("number"===typeof s.delay)return void this.defer(s);s.to?this.sendTo(s._event,s.to):this.send(s._event);break;case ht:this.cancel(t.sendId);break;case ut:if(this.status!==Qt.Running)return;var c=t.activity;if(!this.state.activities[c.id||c.type])break;if(c.type===Z.Invoke){var u=W(c.src),l=this.machine.options.services?this.machine.options.services[u.type]:void 0,f=c.id,d=c.data;0;var h="autoForward"in c?c.autoForward:!!c.forward;if(!l)return void 0;var v=d?N(d,r,i):void 0;if("string"===typeof l)return;var p=z(l)?l(r,i.data,{data:v,src:u,meta:c.meta}):l;if(!p)return;var y=void 0;G(p)&&(p=v?p.withContext(v):p,y={autoForward:h}),this.spawn(p,f,y)}else this.spawnActivity(c);break;case lt:this.stopChild(t.activity.id);break;case yt:var g=t.label,m=t.value;g?this.logger(g,m):this.logger(m);break;default:0}},t.prototype.removeChild=function(t){var e;this.children.delete(t),this.forwardTo.delete(t),null===(e=this.state)||void 0===e||delete e.children[t]},t.prototype.stopChild=function(t){var e=this.children.get(t);e&&(this.removeChild(t),z(e.stop)&&e.stop())},t.prototype.spawn=function(t,e,n){if(j(t))return this.spawnPromise(Promise.resolve(t),e);if(z(t))return this.spawnCallback(t,e);if(function(t){try{return"function"===typeof t.send}catch(e){return!1}}(i=t)&&"id"in i)return this.spawnActor(t,e);if(function(t){try{return"subscribe"in t&&z(t.subscribe)}catch(e){return!1}}(t))return this.spawnObservable(t,e);if(G(t))return this.spawnMachine(t,l(l({},n),{id:e}));if(null!==(r=t)&&"object"===typeof r&&"transition"in r&&"function"===typeof r.transition)return this.spawnBehavior(t,e);throw new Error('Unable to spawn entity "'.concat(e,'" of type "').concat(typeof t,'".'));var r,i},t.prototype.spawnMachine=function(e,n){var r=this;void 0===n&&(n={});var i=new t(e,l(l({},this.options),{parent:this,id:n.id||e.id})),o=l(l({},te),n);o.sync&&i.onTransition((function(t){r.send(St,{state:t,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(t){r.removeChild(i.id),r.send(K(t,{origin:i.id}))})).start(),a},t.prototype.spawnBehavior=function(t,e){var n=Yt(t,{id:e,parent:this});return this.children.set(e,n),n},t.prototype.spawnPromise=function(t,e){var n,r=this,i=!1;t.then((function(t){i||(n=t,r.removeChild(e),r.send(K(jt(e,t),{origin:e})))}),(function(t){if(!i){r.removeChild(e);var n=At(e,t);try{r.send(K(n,{origin:e}))}catch(wt){r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}}));var o=l({id:e,send:function(){},subscribe:function(e,n,r){var i=X(e,n,r),o=!1;return t.then((function(t){o||(i.next(t),o||i.complete())}),(function(t){o||i.error(t)})),{unsubscribe:function(){return o=!0}}},stop:function(){i=!0},toJSON:function(){return{id:e}},getSnapshot:function(){return n}},H);return this.children.set(e,o),o},t.prototype.spawnCallback=function(t,e){var n,r,i=this,o=!1,a=new Set,s=new Set;try{r=t((function(t){n=t,s.forEach((function(e){return e(t)})),o||i.send(K(t,{origin:e}))}),(function(t){a.add(t)}))}catch(u){this.send(At(e,u))}if(j(r))return this.spawnPromise(r,e);var c=l({id:e,send:function(t){return a.forEach((function(e){return e(t)}))},subscribe:function(t){return s.add(t),{unsubscribe:function(){s.delete(t)}}},stop:function(){o=!0,z(r)&&r()},toJSON:function(){return{id:e}},getSnapshot:function(){return n}},H);return this.children.set(e,c),c},t.prototype.spawnObservable=function(t,e){var n,r=this,i=t.subscribe((function(t){n=t,r.send(K(t,{origin:e}))}),(function(t){r.removeChild(e),r.send(K(At(e,t),{origin:e}))}),(function(){r.removeChild(e),r.send(K(jt(e),{origin:e}))})),o=l({id:e,send:function(){},subscribe:function(e,n,r){return t.subscribe(e,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:e}}},H);return this.children.set(e,o),o},t.prototype.spawnActor=function(t,e){return this.children.set(e,t),t},t.prototype.spawnActivity=function(t){var e=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(e){var n=e(this.state.context,t);this.spawnEffect(t.id,n)}},t.prototype.spawnEffect=function(t,e){this.children.set(t,l({id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:e||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},H))},t.prototype.attachDev=function(){var t=Jt();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var e="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(l(l({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},e),{features:l({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}Zt(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[B]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Qt.NotStarted?this.initialState:this._state},t.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(t,e){return setTimeout(t,e)},clearTimeout:function(t){return clearTimeout(t)}},logger:t.console.log.bind(console),devTools:!1}}("undefined"!==typeof self?self:n.g),t.interpret=re,t}();function re(t,e){return new ne(t,e)}function ie(t){var e=r.useRef();return e.current||(e.current={v:t()}),e.current.v}!function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"}(ee||(ee={}));var oe=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(wt){i={error:wt}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ae=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var se=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(wt){i={error:wt}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ce=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function ue(t,e){(0,t.exec)(e.context,e._event.data,{action:t,state:e,_event:e._event})()}function le(t){var e=(0,r.useRef)([]),n=(0,r.useRef)([]);Mt((function(){var r=t.subscribe((function(t){var r,i;if(t.actions.length){var o=t.actions.filter((function(t){return"function"===typeof t.exec&&"__effect"in t.exec})),a=se(function(t,e){var n,r,i=oe([[],[]],2),o=i[0],a=i[1];try{for(var s=ae(t),c=s.next();!c.done;c=s.next()){var u=c.value;e(u)?o.push(u):a.push(u)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(o,(function(t){return t.exec.__effect===ee.Effect})),2),s=a[0],c=a[1];(r=e.current).push.apply(r,ce([],se(s.map((function(e){return[e,t]}))),!1)),(i=n.current).push.apply(i,ce([],se(c.map((function(e){return[e,t]}))),!1))}}));return function(){r.unsubscribe()}}),[]),Mt((function(){for(;n.current.length;){var t=se(n.current.shift(),2);ue(t[0],t[1])}})),(0,r.useEffect)((function(){for(;e.current.length;){var t=se(e.current.shift(),2);ue(t[0],t[1])}}))}var fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},de=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};var he=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(wt){i={error:wt}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ve(t,e){void 0===e&&(e={});var n=(0,r.useCallback)((function(t){var e=void 0===t.changed&&Object.keys(t.children).length;(t.changed||e)&&s(t)}),[]),i=function(t,e,n){void 0===e&&(e={});var r=ie((function(){return"function"===typeof t?t():t})),i=e.context,o=e.guards,a=e.actions,s=e.activities,c=e.services,u=e.delays,l=e.state,f=de(e,["context","guards","actions","activities","services","delays","state"]),d=ie((function(){var t={context:i,guards:o,actions:a,activities:s,services:c,delays:u};return re(r.withConfig(t,(function(){return fe(fe({},r.context),i)})),fe({deferEvents:!0},f))}));return Mt((function(){var t;return n&&(t=d.subscribe(function(t,e,n){if("object"===typeof t)return t;var r=function(){};return{next:t,error:void 0||r,complete:void 0||r}}(n))),function(){null===t||void 0===t||t.unsubscribe()}}),[n]),Mt((function(){return d.start(l?Lt.create(l):void 0),function(){d.stop()}}),[]),Mt((function(){Object.assign(d.machine.options.actions,a),Object.assign(d.machine.options.guards,o),Object.assign(d.machine.options.activities,s),Object.assign(d.machine.options.services,c),Object.assign(d.machine.options.delays,u)}),[a,o,s,c,u]),le(d),d}(t,e,n),o=he((0,r.useState)((function(){var t=i.machine.initialState;return e.state?Lt.create(e.state):t})),2),a=o[0],s=o[1];return[a,i.send,i]}function pe(){return(pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ye(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}const ge={arr:Array.isArray,obj:t=>"[object Object]"===Object.prototype.toString.call(t),fun:t=>"function"===typeof t,str:t=>"string"===typeof t,num:t=>"number"===typeof t,und:t=>void 0===t,nul:t=>null===t,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!==typeof e)return!1;if(ge.str(t)||ge.num(t))return t===e;if(ge.obj(t)&&ge.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return!ge.und(n)||t===e}};function me(){const t=(0,r.useState)(!1)[1];return(0,r.useCallback)((()=>t((t=>!t))),[])}function be(t,e){return ge.und(t)||ge.nul(t)?e:t}function we(t){return ge.und(t)?[]:ge.arr(t)?t:[t]}function Se(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ge.fun(t)?t(...n):t}function xe(t){const e=function(t){return t.to,t.from,t.config,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.delay,t.attach,t.destroyed,t.interpolateTo,t.ref,t.lazy,ye(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(t);if(ge.und(e))return pe({to:e},t);const n=Object.keys(t).reduce(((n,r)=>ge.und(e[r])?pe({},n,{[r]:t[r]}):n),{});return pe({to:e},n)}class Ee{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(t){0===this.children.length&&this.attach(),this.children.push(t)}removeChild(t){const e=this.children.indexOf(t);this.children.splice(e,1),0===this.children.length&&this.detach()}}class Oe extends Ee{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach((t=>t instanceof Ee&&t.addChild(this))),this.detach=()=>this.payload.forEach((t=>t instanceof Ee&&t.removeChild(this)))}}class ke extends Ee{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach((t=>t instanceof Ee&&t.addChild(this))),this.detach=()=>Object.values(this.payload).forEach((t=>t instanceof Ee&&t.removeChild(this)))}getValue(t){void 0===t&&(t=!1);const e={};for(const n in this.payload){const r=this.payload[n];(!t||r instanceof Ee)&&(e[n]=r instanceof Ee?r[t?"getAnimatedValue":"getValue"]():r)}return e}getAnimatedValue(){return this.getValue(!0)}}let Te,Pe;function Ce(t,e){Te={fn:t,transform:e}}function Re(t){Pe=t}let _e,Ne=t=>"undefined"!==typeof window?window.requestAnimationFrame(t):-1;function je(t){_e=t}let Ae,De=()=>Date.now();function Ie(t){Ae=t}let Le,Me,ze=t=>t.current;function Ve(t){Le=t}class Fe extends ke{constructor(t,e){super(),this.update=void 0,this.payload=t.style?pe({},t,{style:Le(t.style)}):t,this.update=e,this.attach()}}let Be=!1;const He=new Set,Ge=()=>{if(!Be)return!1;let t=De();for(let e of He){let n=!1;for(let r=0;r<e.configs.length;r++){let i,o,a=e.configs[r];for(let e=0;e<a.animatedValues.length;e++){let r=a.animatedValues[e];if(r.done)continue;let s=a.fromValues[e],c=a.toValues[e],u=r.lastPosition,l=c instanceof Ee,f=Array.isArray(a.initialVelocity)?a.initialVelocity[e]:a.initialVelocity;if(l&&(c=c.getValue()),a.immediate)r.setValue(c),r.done=!0;else if("string"!==typeof s&&"string"!==typeof c){if(void 0!==a.duration)u=s+a.easing((t-r.startTime)/a.duration)*(c-s),i=t>=r.startTime+a.duration;else if(a.decay)u=s+f/(1-.998)*(1-Math.exp(-(1-.998)*(t-r.startTime))),i=Math.abs(r.lastPosition-u)<.1,i&&(c=u);else{o=void 0!==r.lastTime?r.lastTime:t,f=void 0!==r.lastVelocity?r.lastVelocity:a.initialVelocity,t>o+64&&(o=t);let e=Math.floor(t-o);for(let t=0;t<e;++t){f+=1*((-a.tension*(u-c)+-a.friction*f)/a.mass)/1e3,u+=1*f/1e3}let n=!(!a.clamp||0===a.tension)&&(s<c?u>c:u<c),l=Math.abs(f)<=a.precision,d=0===a.tension||Math.abs(c-u)<=a.precision;i=n||l&&d,r.lastVelocity=f,r.lastTime=t}l&&!a.toValues[e].done&&(i=!1),i?(r.value!==c&&(u=c),r.done=!0):n=!0,r.setValue(u),r.lastPosition=u}else r.setValue(c),r.done=!0}e.props.onFrame&&(e.values[a.name]=a.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),n||(He.delete(e),e.stop(!0))}return He.size?Me?Me():Ne(Ge):Be=!1,Be};function qe(t,e,n){if("function"===typeof t)return t;if(Array.isArray(t))return qe({range:t,output:e,extrapolate:n});if(_e&&"string"===typeof t.output[0])return _e(t);const r=t,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(t=>t);return t=>{const e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,o);return function(t,e,n,r,i,o,a,s,c){let u=c?c(t):t;if(u<e){if("identity"===a)return u;"clamp"===a&&(u=e)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?u=-u:n===1/0?u-=e:u=(u-e)/(n-e);u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(t,o[e],o[e+1],i[e],i[e+1],c,a,s,r.map)}}class Ke extends Oe{constructor(t,e,n,r){super(),this.calc=void 0,this.payload=t instanceof Oe&&!(t instanceof Ke)?t.getPayload():Array.isArray(t)?t:[t],this.calc=qe(e,n,r)}getValue(){return this.calc(...this.payload.map((t=>t.getValue())))}updateConfig(t,e,n){this.calc=qe(t,e,n)}interpolate(t,e,n){return new Ke(this,t,e,n)}}const Ue=(t,e,n)=>t&&new Ke(t,e,n);function $e(t,e){"update"in t?e.add(t):t.getChildren().forEach((t=>$e(t,e)))}class We extends Ee{constructor(t){var e;super(),e=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(t,n){void 0===n&&(n=!0),e.value=t,n&&e.flush()},this.value=t,this.startPosition=t,this.lastPosition=t}flush(){0===this.animatedStyles.size&&$e(this,this.animatedStyles),this.animatedStyles.forEach((t=>t.update()))}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(t,e,n){return new Ke(this,t,e,n)}}class Xe extends Oe{constructor(t){super(),this.payload=t.map((t=>new We(t)))}setValue(t,e){void 0===e&&(e=!0),Array.isArray(t)?t.length===this.payload.length&&t.forEach(((t,n)=>this.payload[n].setValue(t,e))):this.payload.forEach((n=>n.setValue(t,e)))}getValue(){return this.payload.map((t=>t.getValue()))}interpolate(t,e){return new Ke(this,t,e)}}let Je=0;class Ze{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=Je++}update(t){if(!t)return this;const e=xe(t),n=e.delay,r=void 0===n?0:n,i=e.to,o=ye(e,["delay","to"]);if(ge.arr(i)||ge.fun(i))this.queue.push(pe({},o,{delay:r,to:i}));else if(i){let t={};Object.entries(i).forEach((e=>{let n=e[0];const i=pe({to:{[n]:e[1]},delay:Se(r,n)},o),a=t[i.delay]&&t[i.delay].to;t[i.delay]=pe({},t[i.delay],i,{to:pe({},a,i.to)})})),this.queue=Object.values(t)}return this.queue=this.queue.sort(((t,e)=>t.delay-e.delay)),this.diff(o),this}start(t){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach((t=>{let e=t.from,n=void 0===e?{}:e,r=t.to,i=void 0===r?{}:r;ge.obj(n)&&(this.merged=pe({},n,this.merged)),ge.obj(i)&&(this.merged=pe({},this.merged,i))}));const e=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach(((r,i)=>{let o=r.delay,a=ye(r,["delay"]);const s=r=>{i===n.length-1&&e===this.guid&&r&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),t&&t()};let c=ge.arr(a.to)||ge.fun(a.to);o?setTimeout((()=>{e===this.guid&&(c?this.runAsync(a,s):this.diff(a).start(s))}),o):c?this.runAsync(a,s):this.diff(a).start(s)}))}else ge.fun(t)&&this.listeners.push(t),this.props.onStart&&this.props.onStart(),e=this,He.has(e)||He.add(e),Be||(Be=!0,Ne(Me||Ge));var e;return this}stop(t){return this.listeners.forEach((e=>e(t))),this.listeners=[],this}pause(t){var e;return this.stop(!0),t&&(e=this,He.has(e)&&He.delete(e)),this}runAsync(t,e){var n=this;t.delay;let r=ye(t,["delay"]);const i=this.local;let o=Promise.resolve(void 0);if(ge.arr(r.to))for(let a=0;a<r.to.length;a++){const t=a,e=pe({},r,xe(r.to[t]));ge.arr(e.config)&&(e.config=e.config[t]),o=o.then((()=>{if(i===this.guid)return new Promise((t=>this.diff(e).start(t)))}))}else if(ge.fun(r.to)){let t,e=0;o=o.then((()=>r.to((n=>{const o=pe({},r,xe(n));if(ge.arr(o.config)&&(o.config=o.config[e]),e++,i===this.guid)return t=new Promise((t=>this.diff(o).start(t)))}),(function(t){return void 0===t&&(t=!0),n.stop(t)})).then((()=>t))))}o.then(e)}diff(t){this.props=pe({},this.props,t);let e=this.props,n=e.from,r=void 0===n?{}:n,i=e.to,o=void 0===i?{}:i,a=e.config,s=void 0===a?{}:a,c=e.reverse,u=e.attach,l=e.reset,f=e.immediate;if(c){var d=[o,r];r=d[0],o=d[1]}this.merged=pe({},r,this.merged,o),this.hasChanged=!1;let h=u&&u(this);if(this.animations=Object.entries(this.merged).reduce(((t,e)=>{let n=e[0],i=e[1],o=t[n]||{};const a=ge.num(i),c=ge.str(i)&&!i.startsWith("#")&&!/\d/.test(i)&&!Pe[i],u=ge.arr(i),d=!a&&!u&&!c;let v=ge.und(r[n])?i:r[n],p=a||u||c?i:1,y=Se(s,n);h&&(p=h.animations[n].parent);let g,m=o.parent,b=o.interpolation,w=we(h?p.getPayload():p),S=i;d&&(S=_e({range:[0,1],output:[i,i]})(1));let x=b&&b.getValue();const E=!ge.und(m)&&o.animatedValues.some((t=>!t.done)),O=!ge.equ(S,x),k=!ge.equ(S,o.previous),T=!ge.equ(y,o.config);if(l||k&&O||T){if(a||c)m=b=o.parent||new We(v);else if(u)m=b=o.parent||new Xe(v);else if(d){let t=o.interpolation&&o.interpolation.calc(o.parent.value);t=void 0===t||l?v:t,o.parent?(m=o.parent,m.setValue(0,!1)):m=new We(0);const e={output:[t,i]};o.interpolation?(b=o.interpolation,o.interpolation.updateConfig(e)):b=m.interpolate(e)}return w=we(h?p.getPayload():p),g=we(m.getPayload()),l&&!d&&m.setValue(v,!1),this.hasChanged=!0,g.forEach((t=>{t.startPosition=t.value,t.lastPosition=t.value,t.lastVelocity=E?t.lastVelocity:void 0,t.lastTime=E?t.lastTime:void 0,t.startTime=De(),t.done=!1,t.animatedStyles.clear()})),Se(f,n)&&m.setValue(d?p:i,!1),pe({},t,{[n]:pe({},o,{name:n,parent:m,interpolation:b,animatedValues:g,toValues:w,previous:S,config:y,fromValues:we(m.getValue()),immediate:Se(f,n),initialVelocity:be(y.velocity,0),clamp:be(y.clamp,!1),precision:be(y.precision,.01),tension:be(y.tension,170),friction:be(y.friction,26),mass:be(y.mass,1),duration:y.duration,easing:be(y.easing,(t=>t)),decay:y.decay})})}return O?t:(d&&(m.setValue(1,!1),b.updateConfig({output:[S,S]})),m.done=!0,this.hasChanged=!0,pe({},t,{[n]:pe({},t[n],{previous:S})}))}),this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let t in this.animations)this.interpolations[t]=this.animations[t].interpolation,this.values[t]=this.animations[t].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}const Ye=(t,e)=>{const n=(0,r.useRef)(!1),i=(0,r.useRef)(),o=ge.fun(e),a=(0,r.useMemo)((()=>{let n;return i.current&&(i.current.map((t=>t.destroy())),i.current=void 0),[new Array(t).fill().map(((t,r)=>{const i=new Ze,a=o?Se(e,r,i):e[r];return 0===r&&(n=a.ref),i.update(a),n||i.start(),i})),n]}),[t]),s=a[0],c=a[1];i.current=s;(0,r.useImperativeHandle)(c,(()=>({start:()=>Promise.all(i.current.map((t=>new Promise((e=>t.start(e)))))),stop:t=>i.current.forEach((e=>e.stop(t))),get controllers(){return i.current}})));const u=(0,r.useMemo)((()=>t=>i.current.map(((e,n)=>{e.update(o?Se(t,n,e):t[n]),c||e.start()}))),[t]);(0,r.useEffect)((()=>{n.current?o||u(e):c||i.current.forEach((t=>t.start()))})),(0,r.useEffect)((()=>(n.current=!0,()=>i.current.forEach((t=>t.destroy())))),[]);const l=i.current.map((t=>t.getValues()));return o?[l,u,t=>i.current.forEach((e=>e.pause(t)))]:l};class Qe extends ke{constructor(t){void 0===t&&(t={}),super(),!t.transform||t.transform instanceof Ee||(t=Te.transform(t)),this.payload=t}}const tn={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},en="[-+]?\\d*\\.?\\d+",nn=en+"%";function rn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const on=new RegExp("rgb"+rn(en,en,en)),an=new RegExp("rgba"+rn(en,en,en,en)),sn=new RegExp("hsl"+rn(en,nn,nn)),cn=new RegExp("hsla"+rn(en,nn,nn,en)),un=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ln=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,fn=/^#([0-9a-fA-F]{6})$/,dn=/^#([0-9a-fA-F]{8})$/;function hn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vn(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=hn(i,r,t+1/3),a=hn(i,r,t),s=hn(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function pn(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function yn(t){return(parseFloat(t)%360+360)%360/360}function gn(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function mn(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function bn(t){let e=function(t){let e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=fn.exec(t))?parseInt(e[1]+"ff",16)>>>0:tn.hasOwnProperty(t)?tn[t]:(e=on.exec(t))?(pn(e[1])<<24|pn(e[2])<<16|pn(e[3])<<8|255)>>>0:(e=an.exec(t))?(pn(e[1])<<24|pn(e[2])<<16|pn(e[3])<<8|gn(e[4]))>>>0:(e=un.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=dn.exec(t))?parseInt(e[1],16)>>>0:(e=ln.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=sn.exec(t))?(255|vn(yn(e[1]),mn(e[2]),mn(e[3])))>>>0:(e=cn.exec(t))?(vn(yn(e[1]),mn(e[2]),mn(e[3]))|gn(e[4]))>>>0:null}(t);return null===e?t:(e=e||0,`rgba(${(4278190080&e)>>>24}, ${(16711680&e)>>>16}, ${(65280&e)>>>8}, ${(255&e)/255})`)}const wn=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Sn=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,xn=new RegExp(`(${Object.keys(tn).join("|")})`,"g");let En={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const On=["Webkit","Ms","Moz","O"];function kn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||En.hasOwnProperty(t)&&En[t]?(""+e).trim():e+"px"}En=Object.keys(En).reduce(((t,e)=>(On.forEach((n=>t[((t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1))(n,e)]=t[e])),t)),En);const Tn={};Ve((t=>new Qe(t))),Ie("div"),je((t=>{const e=t.output.map((t=>t.replace(Sn,bn))).map((t=>t.replace(xn,bn))),n=e[0].match(wn).map((()=>[]));e.forEach((t=>{t.match(wn).forEach(((t,e)=>n[e].push(+t)))}));const r=e[0].match(wn).map(((e,r)=>qe(pe({},t,{output:n[r]}))));return t=>{let n=0;return e[0].replace(wn,(()=>r[n++](t))).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,((t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`))}})),Re(tn),Ce(((t,e)=>{if(!t.nodeType||void 0===t.setAttribute)return!1;{const i=e.style,o=e.children,a=e.scrollTop,s=e.scrollLeft,c=ye(e,["style","children","scrollTop","scrollLeft"]),u="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName;void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s),void 0!==o&&(t.textContent=o);for(let e in i)if(i.hasOwnProperty(e)){var n=0===e.indexOf("--"),r=kn(e,i[e],n);"float"===e&&(e="cssFloat"),n?t.style.setProperty(e,r):t.style[e]=r}for(let e in c){const n=u?e:Tn[e]||(Tn[e]=e.replace(/([A-Z])/g,(t=>"-"+t.toLowerCase())));"undefined"!==typeof t.getAttribute(n)&&t.setAttribute(n,c[e])}}}),(t=>t));var Pn,Cn;const Rn=(Pn=t=>(0,r.forwardRef)(((e,n)=>{const i=me(),o=(0,r.useRef)(!0),a=(0,r.useRef)(null),s=(0,r.useRef)(null),c=(0,r.useCallback)((t=>{const e=a.current;a.current=new Fe(t,(()=>{let t=!1;s.current&&(t=Te.fn(s.current,a.current.getAnimatedValue())),s.current&&!1!==t||i()})),e&&e.detach()}),[]);(0,r.useEffect)((()=>()=>{o.current=!1,a.current&&a.current.detach()}),[]),(0,r.useImperativeHandle)(n,(()=>ze(s,o,i))),c(e);const u=a.current.getValue(),l=(u.scrollTop,u.scrollLeft,ye(u,["scrollTop","scrollLeft"])),f=(d=t,!ge.fun(d)||d.prototype instanceof r.Component?t=>s.current=function(t,e){return e&&(ge.fun(e)?e(t):ge.obj(e)&&(e.current=t)),t}(t,n):void 0);var d;return r.createElement(t,pe({},l,{ref:f}))})),void 0===(Cn=!1)&&(Cn=!0),t=>(ge.arr(t)?t:Object.keys(t)).reduce(((t,e)=>{const n=Cn?e[0].toLowerCase()+e.substring(1):e;return t[n]=Pn(n),t}),Pn))(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function _n(t,e){return t.map((function(t,n){return t+e[n]}))}function Nn(t,e){return t.map((function(t,n){return t-e[n]}))}function jn(t){return Math.hypot.apply(Math,t)}function An(t,e,n){var r=jn(e),i=0===r?0:1/r,o=0===n?0:1/n,a=o*r,s=e.map((function(t){return o*t})),c=e.map((function(t){return i*t}));return{velocities:s,velocity:a,distance:jn(t),direction:c}}function Dn(t){return Math.sign?Math.sign(t):Number(t>0)-Number(t<0)||+t}function In(t,e,n){return 0===e||Math.abs(e)===1/0?function(t,e){return Math.pow(t,5*e)}(t,n):t*e*n/(e+n*t)}function Ln(t,e,n,r){return void 0===r&&(r=.15),0===r?function(t,e,n){return Math.max(e,Math.min(t,n))}(t,e,n):t<e?-In(e-t,n-e,r)+e:t>n?+In(t-n,n-e,r)+n:t}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(){return(zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Vn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fn(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gn(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function qn(){}function Kn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?qn:1===e.length?e[0]:function(){for(var t,n,r=Gn(e);!(n=r()).done;){var i=n.value;t=i.apply(this,arguments)||t}return t}}function Un(t,e){if(void 0===t){if(void 0===e)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function $n(t){if("function"===typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}return t}function Wn(t,e){void 0===t&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,t[a],a,t);break;case"object":n[a]=Wn(t[a],s);break;case"boolean":s&&(n[a]=t[a])}}return n}var Xn={threshold:function(t){return void 0===t&&(t=0),Un(t)},rubberband:function(t){switch(void 0===t&&(t=0),t){case!0:return Un(.15);case!1:return Un(0);default:return Un(t)}},enabled:function(t){return void 0===t&&(t=!0),t},triggerAllEvents:function(t){return void 0===t&&(t=!1),t},initial:function(t){return void 0===t&&(t=0),"function"===typeof t?t:Un(t)}},Jn=zn({},Xn,{axis:!0,lockDirection:function(t){return void 0===t&&(t=!1),t},bounds:function(t){if(void 0===t&&(t={}),"function"===typeof t)return function(e){return Jn.bounds(t(e))};var e=t,n=e.left,r=void 0===n?-1/0:n,i=e.right,o=void 0===i?1/0:i,a=e.top,s=void 0===a?-1/0:a,c=e.bottom;return[[r,o],[s,void 0===c?1/0:c]]}}),Zn="undefined"!==typeof window&&window.document&&window.document.createElement,Yn={enabled:function(t){return void 0===t&&(t=!0),t},domTarget:!0,window:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return void 0===t&&(t=Zn?window:void 0),t})),eventOptions:function(t){var e=void 0===t?{}:t,n=e.passive,r=void 0===n||n,i=e.capture;return{passive:r,capture:void 0!==i&&i}}},Qn=zn({},Jn,{threshold:function(t,e,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=void 0!==o&&o,s=n.axis,c=Un(t,i?3:a||(void 0===s?void 0:s)?1:0);return this.filterTaps=i||c[0]+c[1]>0,c},swipeVelocity:function(t){return void 0===t&&(t=.5),Un(t)},swipeDistance:function(t){return void 0===t&&(t=60),Un(t)},delay:function(t){switch(void 0===t&&(t=0),t){case!0:return 180;case!1:return 0;default:return t}}});function tr(t){return void 0===t&&(t={}),Wn(t,Yn)}function er(t){return void 0===t&&(t={}),Wn(t,Qn)}function nr(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,o=Fn(t,["domTarget","eventOptions","window","enabled"]),a=tr({domTarget:e,eventOptions:n,window:r,enabled:i});return a.drag=er(o),a}function rr(t){return zn({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:qn,canceled:!1,memo:void 0,args:void 0},t)}function ir(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:rr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:rr({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:rr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:rr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:rr({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var or=new Map,ar=function(){function t(t,e){var n=this;void 0===e&&(e=[]),this.controller=t,this.args=e,this.debounced=!0,this.setTimeout=function(t,e){var r;void 0===e&&(e=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[t,e].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(t){if(void 0===t&&(t=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!t&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var e=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!e,n.state.last=e&&!r,n.controller.state.shared[n.ingKey]=r}var i=zn({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var e,n,r,i=t.prototype;return i.updateSharedState=function(t){Object.assign(this.controller.state.shared,t)},i.updateGestureState=function(t){Object.assign(this.state,t)},i.checkIntentionality=function(t,e){return{_intentional:t,_blocked:!1}},i.getMovement=function(t){var e=this.config,n=e.initial,r=e.bounds,i=e.rubberband,o=e.threshold,a=this.state,s=a._bounds,c=a._initial,u=a._active,l=a._intentional,f=a.lastOffset,d=a.movement,h=this.getInternalMovement(t,this.state),v=!1===l[0]?sr(h[0],o[0]):l[0],p=!1===l[1]?sr(h[1],o[1]):l[1],y=this.checkIntentionality([v,p],h);if(y._blocked)return zn({},y,{_movement:h,delta:[0,0]});var g,m,b,w,S=y._intentional,x=h;(!1!==S[0]&&!1===l[0]&&(m=$n(n,this.state),g=$n(r,this.state),c[0]=m[0],s[0]=g[0]),!1!==S[1]&&!1===l[1])&&(m=null!=(b=m)?b:$n(n,this.state),g=null!=(w=g)?w:$n(r,this.state),c[1]=m[1],s[1]=g[1]);var E=[!1!==S[0]?h[0]-S[0]:c[0],!1!==S[1]?h[1]-S[1]:c[1]],O=_n(E,f),k=u?i:[0,0];return E=cr(s,_n(E,c),k),zn({},y,{intentional:!1!==S[0]||!1!==S[1],_initial:c,_movement:x,movement:E,values:t,offset:cr(s,O,k),delta:Nn(E,d)})},i.clean=function(){this.clearTimeout()},e=t,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&Mn(e.prototype,n),r&&Mn(e,r),t}();function sr(t,e){return Math.abs(t)>=e&&Dn(t)*e}function cr(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],c=s[0],u=s[1],l=t[1],f=l[0],d=l[1];return[Ln(r,c,u,o),Ln(i,f,d,a)]}function ur(t,e,n){var r=t.state,i=t.args,o=e.timeStamp,a=e.type,s=r.values;return{_lastEventType:a,event:e,timeStamp:o,elapsedTime:n?0:o-r.startTime,args:i,previous:s}}function lr(t,e,n){var r=t.state.offset,i=n.timeStamp;return zn({},ir()[t.stateKey],{_active:!0,values:e,initial:e,offset:r,lastOffset:r,startTime:i})}function fr(t,e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.call.apply(t,[this,zn({},e,{event:n})].concat(i))}}var dr=function(t){var e=this;this.classes=t,this.bind=function(){for(var t={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=Gn(e.classes);!(o=a()).done;){var s=o.value;new s(e,r).addBindings(t)}for(var c=0,u=Object.entries(e.nativeRefs);c<u.length;c++){var l=u[c],f=l[0],d=l[1];br(t,f,fr(d,zn({},e.state.shared,{args:r})))}return e.config.domTarget?pr(e,t):yr(e,t)},this.effect=function(){return e.config.domTarget&&e.bind(),e.clean},this.clean=function(){var t=mr(e.config),n=e.config.eventOptions;t&&Sr(t,gr(e.domListeners),n),Object.values(e.timeouts).forEach(clearTimeout),function(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(!n)return;for(var o in i){Sr(n,i[o],r)}t.windowListeners={}}(e)},this.state=ir(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function hr(t,e){var n=t.config,r=t.windowListeners;n.window&&(Sr(n.window,r[e],n.eventOptions),delete r[e])}function vr(t,e,n){var r=t.config,i=t.windowListeners;void 0===n&&(n=[]),r.window&&(Sr(r.window,i[e],r.eventOptions),wr(r.window,i[e]=n,r.eventOptions))}function pr(t,e){var n=t.config,r=t.domListeners,i=mr(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;Sr(i,gr(r),o);for(var a=0,s=Object.entries(e);a<s.length;a++){var c=s[a],u=c[0],l=c[1],f=u.slice(2).toLowerCase();r.push([f,Kn.apply(void 0,l)])}wr(i,r,o)}function yr(t,e){for(var n={},r=t.config.eventOptions.capture?"Capture":"",i=0,o=Object.entries(e);i<o.length;i++){var a=o[i],s=a[0],c=a[1],u=Array.isArray(c)?c:[c];n[s+r]=Kn.apply(void 0,u)}return n}function gr(t){return void 0===t&&(t=[]),t.splice(0,t.length)}function mr(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function br(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function wr(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var r,i=Gn(e);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];t.addEventListener(a,s,n)}}function Sr(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var r,i=Gn(e);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];t.removeEventListener(a,s,n)}}function xr(t,e,n){void 0===n&&(n={});var i=function(t){var e=new Set;t.drag&&e.add(or.get("drag"));t.wheel&&e.add(or.get("wheel"));t.scroll&&e.add(or.get("scroll"));t.move&&e.add(or.get("move"));t.pinch&&e.add(or.get("pinch"));t.hover&&e.add(or.get("hover"));return e}(t),o=r.useMemo((function(){return new dr(i)}),[]);return o.config=e,o.handlers=t,o.nativeRefs=n,r.useEffect(o.effect,[]),o.config.domTarget?Er:o.bind}function Er(){0}var Or=function(t){function e(){return t.apply(this,arguments)||this}Vn(e,t);var n=e.prototype;return n.getInternalMovement=function(t,e){return Nn(t,e.initial)},n.checkIntentionality=function(t,e){if(!1===t[0]&&!1===t[1])return{_intentional:t,axis:this.state.axis};var n=e.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:t,_blocked:!0,axis:o}:(t["x"===o?1:0]=!1,{_intentional:t,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:t,_blocked:!1,axis:o}},n.getKinematics=function(t,e){var n=this.getMovement(t);if(!n._blocked){var r=e.timeStamp-this.state.timeStamp;Object.assign(n,An(n.movement,n.delta,r))}return n},n.mapStateValues=function(t){return{xy:t.values,vxvy:t.velocities}},e}(ar);function kr(t){if("touches"in t){var e=t.targetTouches,n=t.changedTouches;return e.length>0?e:n}return null}function Tr(t){var e="buttons"in t?t.buttons:0,n=kr(t),r=n&&n.length||0;return{touches:r,down:r>0||e>0,buttons:e,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey}}function Pr(t){var e=kr(t),n=e?e[0]:t;return[n.clientX,n.clientY]}var Cr=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).ingKey="dragging",e.stateKey="drag",e.onDragStart=function(t){e.enabled&&!e.state._active&&(vr(e.controller,e.stateKey,[["pointermove",e.onDragChange],["pointerup",e.onDragEnd],["pointercancel",e.onDragEnd]]),e.updateGestureState({_pointerId:t.pointerId}),e.config.delay>0?(e.state._delayedEvent=!0,"persist"in t&&"function"===typeof t.persist&&t.persist(),e.setTimeout(e.startDrag.bind(Bn(e)),e.config.delay,t)):e.startDrag(t))},e.onDragChange=function(t){if(!e.state.canceled&&t.pointerId===e.state._pointerId)if(e.state._active){var n=Tr(t);if(n.down){e.updateSharedState(n);var r=Pr(t),i=e.getKinematics(r,t),o=ur(Bn(e),t),a=e.state._isTap,s=jn(i._movement);a&&s>=3&&(a=!1),e.updateGestureState(zn({},o,i,{_isTap:a})),e.fireGestureHandler()}else e.onDragEnd(t)}else e.state._delayedEvent&&(e.clearTimeout(),e.startDrag(t))},e.onDragEnd=function(t){if(t.pointerId===e.state._pointerId){e.state._active=!1,e.updateSharedState({down:!1,buttons:0,touches:0});var n=e.state._isTap,r=e.state.velocities,i=r[0],o=r[1],a=e.state.movement,s=a[0],c=a[1],u=e.state._intentional,l=u[0],f=u[1],d=e.config.swipeVelocity,h=d[0],v=d[1],p=e.config.swipeDistance,y=p[0],g=p[1],m=zn({},ur(Bn(e),t),e.getMovement(e.state.values)),b=[0,0];m.elapsedTime<220&&(!1!==l&&Math.abs(i)>h&&Math.abs(s)>y&&(b[0]=Dn(i)),!1!==f&&Math.abs(o)>v&&Math.abs(c)>g&&(b[1]=Dn(o))),e.updateGestureState(zn({},m,{tap:n,swipe:b})),e.fireGestureHandler(!0===n)}},e.clean=function(){t.prototype.clean.call(Bn(e)),e.state._delayedEvent=!1,hr(e.controller,e.stateKey)},e.onCancel=function(){e.state.canceled||(e.updateGestureState({canceled:!0}),e.state._active=!1,e.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return e.fireGestureHandler()})))},e.onClick=function(t){e.state._isTap||t.stopPropagation()},e}Vn(e,t);var n=e.prototype;return n.startDrag=function(t){var e=Pr(t);this.updateSharedState(Tr(t)),this.updateGestureState(zn({},lr(this,e,t),ur(this,t,!0),{_pointerId:t.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(e)),this.fireGestureHandler()},n.addBindings=function(t){(br(t,"onPointerDown",this.onDragStart),this.config.filterTaps)&&br(t,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},e}(Or);function Rr(t,e){var n,r,i=[],o=!1;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o&&n===this&&e(s,i)||(r=t.apply(this,s),o=!0,n=this,i=s),r}}function _r(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,r,i,o;if(Array.isArray(t)){if((n=t.length)!==e.length)return!1;for(r=n;0!==r--;)if(!_r(t[r],e[r]))return!1;return!0}if("function"===typeof Map&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!_r(r.value[1],e.get(r.value[0])))return!1;return!0}if("function"===typeof Set&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if("undefined"!==typeof Element&&t instanceof Element)return!1;for(r=n;0!==r--;)if(("_owner"!==i[r]||!t.$$typeof)&&!_r(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function Nr(t,e){try{return _r(t,e)}catch(wt){if((wt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw wt}}var jr=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Ar=jr.join(","),Dr="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ir=function(t,e,n){var r=Array.prototype.slice.apply(t.querySelectorAll(Ar));return e&&Dr.call(t,Ar)&&r.unshift(t),r=r.filter(n)},Lr=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:"AUDIO"!==t.nodeName&&"VIDEO"!==t.nodeName&&"DETAILS"!==t.nodeName||null!==t.getAttribute("tabindex")?t.tabIndex:0:e},Mr=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},zr=function(t){return"INPUT"===t.tagName},Vr=function(t){return function(t){return zr(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||t.ownerDocument,r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!i||i===t}(t)},Fr=function(t,e){return!(e.disabled||function(t){return zr(t)&&"hidden"===t.type}(e)||function(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;var n=Dr.call(t,"details>summary:first-of-type")?t.parentElement:t;if(Dr.call(n,"details:not([open]) *"))return!0;if(e&&"full"!==e){if("non-zero-area"===e){var r=t.getBoundingClientRect(),i=r.width,o=r.height;return 0===i&&0===o}}else for(;t;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}(e,t.displayCheck)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(zr(t)||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName)for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!r.contains(t)}return!0}e=e.parentElement}return!1}(e))},Br=function(t,e){return!(!Fr(t,e)||Vr(e)||Lr(e)<0)},Hr=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==Dr.call(t,Ar)&&Br(e,t)},Gr=jr.concat("iframe").join(","),qr=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==Dr.call(t,Gr)&&Fr(e,t)};function Kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r=function(){var t=[];return{activateTrap:function(e){if(t.length>0){var n=t[t.length-1];n!==e&&n.pause()}var r=t.indexOf(e);-1===r||t.splice(r,1),t.push(e)},deactivateTrap:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}}}(),Wr=function(t){return setTimeout(t,0)},Xr=function(t,e){var n=-1;return t.every((function(t,r){return!e(t)||(n=r,!1)})),n},Jr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"===typeof t?t.apply(void 0,n):t},Zr=function(t){return t.target.shadowRoot&&"function"===typeof t.composedPath?t.composedPath()[0]:t.target},Yr=function(t,e){var n,r=(null===e||void 0===e?void 0:e.document)||document,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(n),!0).forEach((function(e){Ur(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(t,e,n){return t&&void 0!==t[e]?t[e]:i[n||e]},s=function(t){return!(!t||!o.containers.some((function(e){return e.contains(t)})))},c=function(t){var e=i[t];if("function"===typeof e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];e=e.apply(void 0,o)}if(!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var s=e;if("string"===typeof e&&!(s=r.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return s},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(s(r.activeElement))t=r.activeElement;else{var e=o.tabbableGroups[0];t=e&&e.firstTabbableNode||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(o.tabbableGroups=o.containers.map((function(t){var e=function(t,e){var n=[],r=[];return Ir(t,(e=e||{}).includeContainer,Br.bind(null,e)).forEach((function(t,e){var i=Lr(t);0===i?n.push(t):r.push({documentOrder:e,tabIndex:i,node:t})})),r.sort(Mr).map((function(t){return t.node})).concat(n)}(t);if(e.length>0)return{container:t,firstTabbableNode:e[0],lastTabbableNode:e[e.length-1]}})).filter((function(t){return!!t})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function t(e){!1!==e&&e!==r.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"===typeof t.select}(e)&&e.select()):t(u()))},d=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},h=function(t){var e=Zr(t);s(e)||(Jr(i.clickOutsideDeactivates,t)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!qr(e)}):Jr(i.allowOutsideClick,t)||t.preventDefault())},v=function(t){var e=Zr(t),n=s(e);n||e instanceof Document?n&&(o.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),f(o.mostRecentlyFocusedNode||u()))},p=function(t){if(function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t)&&!1!==Jr(i.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){var e=Zr(t);l();var n=null;if(o.tabbableGroups.length>0){var r=Xr(o.tabbableGroups,(function(t){return t.container.contains(e)}));if(r<0)n=t.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var i=Xr(o.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(i<0&&(o.tabbableGroups[r].container===e||qr(e)&&!Hr(e))&&(i=r),i>=0){var a=0===i?o.tabbableGroups.length-1:i-1;n=o.tabbableGroups[a].lastTabbableNode}}else{var s=Xr(o.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(s<0&&(o.tabbableGroups[r].container===e||qr(e)&&!Hr(e))&&(s=r),s>=0){var u=s===o.tabbableGroups.length-1?0:s+1;n=o.tabbableGroups[u].firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),f(n))}(t)},y=function(t){if(!Jr(i.clickOutsideDeactivates,t)){var e=Zr(t);s(e)||Jr(i.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}},g=function(){if(o.active)return $r.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?Wr((function(){f(u())})):f(u()),r.addEventListener("focusin",v,!0),r.addEventListener("mousedown",h,{capture:!0,passive:!1}),r.addEventListener("touchstart",h,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",p,{capture:!0,passive:!1}),n},m=function(){if(o.active)return r.removeEventListener("focusin",v,!0),r.removeEventListener("mousedown",h,!0),r.removeEventListener("touchstart",h,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",p,!0),n};return(n={activate:function(t){if(o.active)return this;var e=a(t,"onActivate"),n=a(t,"onPostActivate"),i=a(t,"checkCanFocusTrap");i||l(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,e&&e();var s=function(){i&&l(),g(),n&&n()};return i?(i(o.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(t){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,m(),o.active=!1,o.paused=!1,$r.deactivateTrap(n);var e=a(t,"onDeactivate"),r=a(t,"onPostDeactivate"),i=a(t,"checkCanReturnFocus");e&&e();var s=a(t,"returnFocus","returnFocusOnDeactivate"),c=function(){Wr((function(){s&&f(d(o.nodeFocusedBeforeActivation)),r&&r()}))};return s&&i?(i(d(o.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,m()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,l(),g(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return o.containers=e.map((function(t){return"string"===typeof t?r.querySelector(t):t})),o.active&&l(),this}}).updateContainerElements(t),n};var Qr=!1;if("undefined"!==typeof window){var ti={get passive(){Qr=!0}};window.addEventListener("testPassive",null,ti),window.removeEventListener("testPassive",null,ti)}var ei,ni="undefined"!==typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),ri=[],ii=!1,oi=-1,ai=void 0,si=void 0,ci=function(t){return ri.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},ui=function(t){var e=t||window.event;return!!ci(e.target)||(e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1))},li=function(){void 0!==si&&(document.body.style.paddingRight=si,si=void 0),void 0!==ai&&(document.body.style.overflow=ai,ai=void 0)},fi=function(t,e){if(t){if(!ri.some((function(e){return e.targetElement===t}))){var n={targetElement:t,options:e||{}};ri=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(ri),[n]),ni?(t.ontouchstart=function(t){1===t.targetTouches.length&&(oi=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){var n=t.targetTouches[0].clientY-oi;!ci(t.target)&&(e&&0===e.scrollTop&&n>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&n<0?ui(t):t.stopPropagation())}(e,t)},ii||(document.addEventListener("touchmove",ui,Qr?{passive:!1}:void 0),ii=!0)):function(t){if(void 0===si){var e=!!t&&!0===t.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;e&&n>0&&(si=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===ai&&(ai=document.body.style.overflow,document.body.style.overflow="hidden")}(e)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},di=[],hi="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ei||(ei={}));var vi,pi=function(t){return Object.freeze(t)},yi=function(t,e){this.inlineSize=t,this.blockSize=e,pi(this)},gi=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,pi(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),mi=function(t){return t instanceof SVGElement&&"getBBox"in t},bi=function(t){if(mi(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||t.getClientRects().length)},wi=function(t){var e,n;if(t instanceof Element)return!0;var r=null===(n=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&t instanceof r.Element)},Si="undefined"!==typeof window?window:{},xi=new WeakMap,Ei=/auto|scroll/,Oi=/^tb|vertical/,ki=/msie|trident/i.test(Si.navigator&&Si.navigator.userAgent),Ti=function(t){return parseFloat(t||"0")},Pi=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new yi((n?e:t)||0,(n?t:e)||0)},Ci=pi({devicePixelContentBoxSize:Pi(),borderBoxSize:Pi(),contentBoxSize:Pi(),contentRect:new gi(0,0,0,0)}),Ri=function(t,e){if(void 0===e&&(e=!1),xi.has(t)&&!e)return xi.get(t);if(bi(t))return xi.set(t,Ci),Ci;var n=getComputedStyle(t),r=mi(t)&&t.ownerSVGElement&&t.getBBox(),i=!ki&&"border-box"===n.boxSizing,o=Oi.test(n.writingMode||""),a=!r&&Ei.test(n.overflowY||""),s=!r&&Ei.test(n.overflowX||""),c=r?0:Ti(n.paddingTop),u=r?0:Ti(n.paddingRight),l=r?0:Ti(n.paddingBottom),f=r?0:Ti(n.paddingLeft),d=r?0:Ti(n.borderTopWidth),h=r?0:Ti(n.borderRightWidth),v=r?0:Ti(n.borderBottomWidth),p=f+u,y=c+l,g=(r?0:Ti(n.borderLeftWidth))+h,m=d+v,b=s?t.offsetHeight-m-t.clientHeight:0,w=a?t.offsetWidth-g-t.clientWidth:0,S=i?p+g:0,x=i?y+m:0,E=r?r.width:Ti(n.width)-S-w,O=r?r.height:Ti(n.height)-x-b,k=E+p+w+g,T=O+y+b+m,P=pi({devicePixelContentBoxSize:Pi(Math.round(E*devicePixelRatio),Math.round(O*devicePixelRatio),o),borderBoxSize:Pi(k,T,o),contentBoxSize:Pi(E,O,o),contentRect:new gi(f,c,E,O)});return xi.set(t,P),P},_i=function(t,e,n){var r=Ri(t,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(e){case ei.DEVICE_PIXEL_CONTENT_BOX:return a;case ei.BORDER_BOX:return i;default:return o}},Ni=function(t){var e=Ri(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=pi([e.borderBoxSize]),this.contentBoxSize=pi([e.contentBoxSize]),this.devicePixelContentBoxSize=pi([e.devicePixelContentBoxSize])},ji=function(t){if(bi(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},Ai=function(){var t=1/0,e=[];di.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(e){var n=new Ni(e.target),i=ji(e.target);r.push(n),e.lastReportedSize=_i(e.target,e.observedBox),i<t&&(t=i)})),e.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=e;n<r.length;n++){(0,r[n])()}return t},Di=function(t){di.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(n){n.isActive()&&(ji(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))}))}))},Ii=function(){var t=0;for(Di(t);di.some((function(t){return t.activeTargets.length>0}));)t=Ai(),Di(t);return di.some((function(t){return t.skippedTargets.length>0}))&&function(){var t;"function"===typeof ErrorEvent?t=new ErrorEvent("error",{message:hi}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=hi),window.dispatchEvent(t)}(),t>0},Li=[],Mi=function(t){if(!vi){var e=0,n=document.createTextNode("");new MutationObserver((function(){return Li.splice(0).forEach((function(t){return t()}))})).observe(n,{characterData:!0}),vi=function(){n.textContent=""+(e?e--:e++)}}Li.push(t),vi()},zi=0,Vi={attributes:!0,characterData:!0,childList:!0,subtree:!0},Fi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Bi=function(t){return void 0===t&&(t=0),Date.now()+t},Hi=!1,Gi=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!Hi){Hi=!0;var n,r=Bi(t);n=function(){var n=!1;try{n=Ii()}finally{if(Hi=!1,t=r-Bi(),!zi)return;n?e.run(1e3):t>0?e.run(t):e.start()}},Mi((function(){requestAnimationFrame(n)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Vi)};document.body?e():Si.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Fi.forEach((function(e){return Si.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Fi.forEach((function(e){return Si.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),qi=function(t){!zi&&t>0&&Gi.start(),!(zi+=t)&&Gi.stop()},Ki=function(){function t(t,e){this.target=t,this.observedBox=e||ei.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t=_i(this.target,this.observedBox,!0);return function(t){return!mi(t)&&!function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)&&"inline"===getComputedStyle(t).display}(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},t}(),Ui=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},$i=new WeakMap,Wi=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Xi=function(){function t(){}return t.connect=function(t,e){var n=new Ui(t,e);$i.set(t,n)},t.observe=function(t,e,n){var r=$i.get(t),i=0===r.observationTargets.length;Wi(r.observationTargets,e)<0&&(i&&di.push(r),r.observationTargets.push(new Ki(e,n&&n.box)),qi(1),Gi.schedule())},t.unobserve=function(t,e){var n=$i.get(t),r=Wi(n.observationTargets,e),i=1===n.observationTargets.length;r>=0&&(i&&di.splice(di.indexOf(n),1),n.observationTargets.splice(r,1),qi(-1))},t.disconnect=function(t){var e=this,n=$i.get(t);n.observationTargets.slice().forEach((function(n){return e.unobserve(t,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},t}(),Ji=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Xi.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wi(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Xi.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!wi(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Xi.unobserve(this,t)},t.prototype.disconnect=function(){Xi.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function Zi(t){if("string"===typeof t){var e={type:t,toString:function(){return t}};return e}return t}function Yi(t){return l(l({type:mt},t),{toJSON:function(){t.onDone,t.onError;var e=f(t,["onDone","onError"]);return l(l({},e),{type:mt,src:Zi(t.src)})}})}var Qi="",to="*",eo={},no=function(t){return"#"===t[0]},ro=function(){function t(e,n,r){var i,o=this;void 0===r&&(r="context"in e?e.context:void 0),this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||v([this.machine.key],h(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&m(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(i=this.config.schema)&&void 0!==i?i:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?O(this.config.states,(function(e,n){var r,i=new t(e,{_parent:o,_key:n});return Object.assign(o.idMap,l(((r={})[i.id]=i,r),i.idMap)),i})):eo;var a=0;!function t(e){var n,r;e.order=a++;try{for(var i=d(tt(e)),o=i.next();!o.done;o=i.next()){t(o.value)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(t){return t.event===Qi})):Qi in this.config.on),this.strict=!!this.config.strict,this.onEntry=_(this.config.entry||this.config.onEntry).map((function(t){return Tt(t)})),this.onExit=_(this.config.exit||this.config.onExit).map((function(t){return Tt(t)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=_(this.config.invoke).map((function(t,e){var n,r;if(G(t)){var i=J(o.id,e);return o.machine.options.services=l(((n={})[i]=t,n),o.machine.options.services),Yi({src:i,id:i})}if(V(t.src)){i=t.id||J(o.id,e);return Yi(l(l({},t),{id:i,src:t.src}))}if(G(t.src)||z(t.src)){i=t.id||J(o.id,e);return o.machine.options.services=l(((r={})[i]=t.src,r),o.machine.options.services),Yi(l(l({id:i},t),{src:i}))}var a=t.src;return Yi(l(l({id:J(o.id,e)},t),{src:a}))})),this.activities=_(this.config.activities).concat(this.invoke).map((function(t){return Ct(t)})),this.transition=this.transition.bind(this),this.tags=_(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||et(this).forEach((function(t){return t.on}))},t.prototype.withConfig=function(e,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new t(this.config,{actions:l(l({},i),e.actions),activities:l(l({},o),e.activities),guards:l(l({},a),e.guards),services:l(l({},s),e.services),delays:l(l({},c),e.delays)},null!==n&&void 0!==n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return z(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:O(this.states,(function(t){return t.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce((function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=t===Qi,n=this.transitions.filter((function(n){var r=n.eventType===t;return e?r:r||n.eventType===to}));return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var r=function(t,e){var n=e?"#".concat(e):"";return"".concat(Z.After,"(").concat(t,")").concat(n)}(z(e)?"".concat(t.id,":delay[").concat(n,"]"):e,t.id);return t.onEntry.push(_t(r,{delay:e})),t.onExit.push({type:ht,sendId:r}),r};return(M(e)?e.map((function(t,e){var r=n(t.delay,e);return l(l({},t),{event:r})})):C(m(e).map((function(t,r){var i=e[t],o=V(i)?{target:i}:i,a=isNaN(+t)?t:+t,s=n(a,r);return _(o).map((function(t){return l(l({},t),{event:s,delay:a})}))})))).map((function(e){var n=e.delay;return l(l({},t.formatTransition(e)),{delay:n})}))},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var r=t instanceof Lt?t.value:x(t,this.delimiter);if(V(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((e={})[r]=i,e)):[this,this.states[r]]}var o=m(r),a=[this];return a.push.apply(a,v([],h(C(o.map((function(t){return n.getStateNode(t).getStateNodes(r[t])})))),!1)),a},t.prototype.handles=function(t){var e=w(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=Array.from(nt([],this.getStateNodes(t.value)));return new Lt(l(l({},t),{value:this.resolve(t.value),configuration:e,done:st(e,this),tags:ct(e)}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var r=m(t),i=this.getStateNode(r[0])._transition(t[r[0]],e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var r,i,o={};try{for(var a=d(m(t)),s=a.next();!s.done;s=a.next()){var c=s.value,u=t[c];if(u){var l=this.getStateNode(c)._transition(u,e,n);l&&(o[c]=l)}}}catch(y){r={error:y}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var f=m(o).map((function(t){return o[t]})),h=C(f.map((function(t){return t.transitions})));if(!f.some((function(t){return t.transitions.length>0})))return this.next(e,n);var v=C(f.map((function(t){return t.entrySet}))),p=C(m(o).map((function(t){return o[t].configuration})));return{transitions:h,entrySet:v,exitSet:C(f.map((function(t){return t.exitSet}))),configuration:p,source:e,actions:C(m(o).map((function(t){return o[t].actions})))}},t.prototype._transition=function(t,e,n){return V(t)?this.transitionLeafNode(t,e,n):1===m(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.getTransitionData=function(t,e){return this._transition(t.value,t,K(e))},t.prototype.next=function(t,e){var n,r,i,o=this,a=e.name,s=[],c=[];try{for(var u=d(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var f=l.value,p=f.cond,y=f.in,g=t.context,m=!y||(V(y)&&no(y)?t.matches(x(this.getStateNodeById(y).path,this.delimiter)):b(x(y,this.delimiter),T(this.path.slice(0,-2))(t.value))),w=!1;try{w=!p||$(this.machine,p,g,e,t)}catch(O){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(O.message))}if(w&&m){void 0!==f.target&&(c=f.target),s.push.apply(s,v([],h(f.actions),!1)),i=f;break}}}catch(k){n={error:k}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:s};var S=C(c.map((function(e){return o.getRelativeStateNodes(e,t.historyValue)}))),E=!!i.internal;return{transitions:[i],entrySet:E?[]:C(S.map((function(t){return o.nodesFromChild(t)}))),exitSet:E?[]:[this],configuration:S,source:t,actions:s}}},t.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var e=[],n=t;n&&n!==this;)e.push(n),n=n.parent;return e.push(this),e},t.prototype.escapes=function(t){if(this===t)return!1;for(var e=this.parent;e;){if(e===t)return!1;e=e.parent}return!0},t.prototype.getActions=function(t,e,n,r){var i,o,a,s,c=nt([],r?this.getStateNodes(r.value):[this]),u=t.configuration.length?nt(c,t.configuration):c;try{for(var l=d(u),f=l.next();!f.done;f=l.next()){at(c,g=f.value)||t.entrySet.push(g)}}catch(O){i={error:O}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}try{for(var p=d(c),y=p.next();!y.done;y=p.next()){var g;at(u,g=y.value)&&!at(t.exitSet,g.parent)||t.exitSet.push(g)}}catch(k){a={error:k}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}var m=C(t.entrySet.map((function(r){var i=[];if("final"!==r.type)return i;var o=r.parent;if(!o.parent)return i;i.push(Nt(r.id,r.doneData),Nt(o.id,r.doneData?N(r.doneData,e,n):void 0));var a=o.parent;return"parallel"===a.type&&tt(a).every((function(e){return st(t.configuration,e)}))&&i.push(Nt(a.id)),i})));t.exitSet.sort((function(t,e){return e.order-t.order})),t.entrySet.sort((function(t,e){return t.order-e.order}));var b=new Set(t.entrySet),w=new Set(t.exitSet),S=h([C(Array.from(b).map((function(t){return v(v([],h(t.activities.map((function(t){return function(t){var e=Ct(t);return{type:Z.Start,activity:e,exec:void 0}}(t)}))),!1),h(t.onEntry),!1)}))).concat(m.map(Rt)),C(Array.from(w).map((function(t){return v(v([],h(t.onExit),!1),h(t.activities.map((function(t){return function(t){var e=z(t)?t:Ct(t);return{type:Z.Stop,activity:e,exec:void 0}}(t)}))),!1)})))],2),x=S[0],E=S[1];return Pt(E.concat(t.actions).concat(x),this.machine.options.actions)},t.prototype.transition=function(t,e,n){void 0===t&&(t=this.initialState);var r,i,o=K(e);if(t instanceof Lt)r=void 0===n?t:this.resolveState(Lt.from(t,n));else{var a=V(t)?this.resolve(E(this.getResolvedPath(t))):this.resolve(t),s=null!==n&&void 0!==n?n:this.machine.context;r=this.resolveState(Lt.from(a,s))}if(this.strict&&!this.events.includes(o.name)&&(i=o.name,!/^(done|error)\./.test(i)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var c=this._transition(r.value,r,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},u=nt([],this.getStateNodes(r.value)),l=c.configuration.length?nt(u,c.configuration):u;return c.configuration=v([],h(l),!1),this.resolveTransition(c,r,r.context,o)},t.prototype.resolveRaisedTransition=function(t,e,n){var r,i=t.actions;return(t=this.transition(t,e))._event=n,t.event=n.data,(r=t.actions).unshift.apply(r,v([],h(i),!1)),t},t.prototype.resolveTransition=function(t,e,n,r){var i,o,a=this;void 0===r&&(r=Ot);var s=t.configuration,c=!e||t.transitions.length>0,u=c?ot(this.machine,s):void 0,f=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,v=this.getActions(t,n,r,e),p=e?l({},e.activities):{};try{for(var y=d(v),g=y.next();!g.done;g=y.next()){var m=g.value;m.type===ut?p[m.activity.id||m.activity.type]=m:m.type===lt&&(p[m.activity.id||m.activity.type]=!1)}}catch(V){i={error:V}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}var b,w,S=h(Dt(this,e,n,r,v,this.machine.config.preserveActionOrder),2),x=S[0],E=S[1],O=h(A(x,(function(t){return t.type===ft||t.type===dt&&t.to===Y.Internal})),2),k=O[0],T=O[1],P=x.filter((function(t){var e;return t.type===ut&&(null===(e=t.activity)||void 0===e?void 0:e.type)===mt})).reduce((function(t,e){return t[e.activity.id]=Bt(e.activity,a.machine,E,r),t}),e?l({},e.children):{}),C=c?t.configuration:e?e.configuration:[],R=st(C,this),_=new Lt({value:u||e.value,context:E,_event:r,_sessionid:e?e._sessionid:null,historyValue:u?f?(b=f,w=u,{current:w,states:D(b,w)}):void 0:e?e.historyValue:void 0,history:!u||t.source?e:void 0,actions:u?T:[],activities:u?p:e?e.activities:{},events:[],configuration:C,transitions:t.transitions,children:P,done:R,tags:null===e||void 0===e?void 0:e.tags,machine:this}),N=n!==E;_.changed=r.name===St||N;var j=_.history;j&&delete j.history;var I=!R&&(this._transient||s.some((function(t){return t._transient})));if(!c&&(!I||r.name===Qi))return _;var L=_;if(!R)for(I&&(L=this.resolveRaisedTransition(L,{type:vt},r));k.length;){var M=k.shift();L=this.resolveRaisedTransition(L,M._event,r)}var z=L.changed||(j?!!L.actions.length||N||typeof j.value!==typeof L.value||!It(L.value,j.value):void 0);return L.changed=z,L.history=j,L.tags=ct(L.configuration),L},t.prototype.getStateNode=function(t){if(no(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=no(t)?t.slice("#".length):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw new Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"===typeof t&&no(t))try{return this.getStateNodeById(t.slice(1))}catch(i){}for(var e=S(t,this.delimiter).slice(),n=this;e.length;){var r=e.shift();if(!r.length)break;n=n.getStateNode(r)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||eo;switch(this.type){case"parallel":return O(this.initialStateValue,(function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):eo}));case"compound":if(V(t)){var r=this.getStateNode(t);return"parallel"===r.type||"compound"===r.type?((e={})[t]=r.initialStateValue,e):t}return m(t).length?O(t,(function(t,e){return t?n.getStateNode(e).resolve(t):eo})):this.initialStateValue||{};default:return t||eo}},t.prototype.getResolvedPath=function(t){if(no(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '".concat(t,"'"));return e.path}return S(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=k(this.states,(function(t){return t.initialStateValue||eo}),(function(t){return!("history"===t.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=Q(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!==e&&void 0!==e?e:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=V(e.target)&&no(e.target)?E(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;return Q(this)?[this]:"compound"!==this.type||this.initial?C(P(this.initialStateValue).map((function(e){return t.getFromRelativePath(e)}))):[this]},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=h(t),n=e[0],r=e.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},t.prototype.historyValue=function(t){if(m(this.states).length)return{current:t||this.initialStateValue,states:k(this.states,(function(e,n){if(!t)return e.historyValue();var r=V(t)?void 0:t[n];return e.historyValue(r||e.initialStateValue)}),(function(t){return!t.history}))}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var r=this.target;return r?C(P(r).map((function(t){return n.getFromRelativePath(t)}))):n.initialStateNodes}var i,o,a=(i=n.path,o="states",function(t){var e,n,r=t;try{for(var a=d(i),s=a.next();!s.done;s=a.next()){var c=s.value;r=r[o][c]}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r})(t).current;return V(a)?[n.getStateNode(a)]:C(P(a).map((function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]})))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=C(m(this.states).map((function(e){return t.states[e].stateIds})));return[this.id].concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var t,e,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=d(m(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,d(c.events)),l=u.next();!l.done;l=u.next()){var f=l.value;o.add("".concat(f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter((function(t){return!(!t.target&&!t.actions.length&&t.internal)})).map((function(t){return t.eventType})));return Array.from(t)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map((function(t){if(!V(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var r=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(r);try{return e.parent.getStateNodeByPath(r)}catch(i){throw new Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(i.message))}}))},t.prototype.formatTransition=function(t){var e=this,n=function(t){if(void 0!==t&&""!==t)return _(t)}(t.target),r="internal"in t?t.internal:!n||n.some((function(t){return V(t)&&t[0]===e.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=l(l({},t),{actions:Pt(_(t.actions)),cond:F(t.cond,i),target:o,source:this,internal:r,eventType:t.event,toJSON:function(){return l(l({},a),{target:a.target?a.target.map((function(t){return"#".concat(t.id)})):void 0,source:"#".concat(e.id)})}});return a},t.prototype.formatTransitions=function(){var t,e,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=to,a=i[o],s=void 0===a?[]:a,c=f(i,["*"]);n=C(m(c).map((function(t){var e=U(t,c[t]);return e})).concat(U(to,s)))}else n=[];var u=this.config.always?U("",this.config.always):[],l=this.config.onDone?U(String(Nt(this.id)),this.config.onDone):[];var p=C(this.invoke.map((function(t){var e=[];return t.onDone&&e.push.apply(e,v([],h(U(String(jt(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,v([],h(U(String(At(t.id)),t.onError)),!1)),e}))),y=this.after,g=C(v(v(v(v([],h(l),!1),h(p),!1),h(n),!1),h(u),!1).map((function(t){return _(t).map((function(t){return r.formatTransition(t)}))})));try{for(var b=d(y),w=b.next();!w.done;w=b.next()){var S=w.value;g.push(S)}}catch(x){t={error:x}}finally{try{w&&!w.done&&(e=b.return)&&e.call(b)}finally{if(t)throw t.error}}return g},t}();function io(){return(io=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function oo(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var ao="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function so(t,e,n){return e=(e=+e)==e?e:0,n=(n=+n)==n?n:0,(t=+t)==t&&(t=(t=t<=n?t:n)>=e?t:e),t}function co(t){var e=Math.round(t);if(Number.isNaN(t))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return e}var uo={box:"border-box"};function lo(t,e){var n=e.label,i=e.enabled,o=e.resizeSourceRef,a=(0,r.useState)(0),s=a[0],c=a[1];(0,r.useDebugValue)(n+": "+s);var u=(0,r.useCallback)((function(t){c(t[0].borderBoxSize[0].blockSize),o.current="element"}),[o]);return ao((function(){if(t.current&&i){var e=new Ji(u);return e.observe(t.current,uo),function(){e.disconnect()}}}),[t,u,i]),i?s:0}function fo(t){return void 0===t&&(t=1e3),new Promise((function(e){return setTimeout(e,t)}))}var ho,vo={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},po={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},yo=function(t,e,n){return void 0===n&&(n=t.context),new ro(t,e,n)}({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:io({},vo,po)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:io({},vo,po)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:io({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[(ho={y:function(t,e){return e.payload.y},velocity:function(t,e){return e.payload.velocity},snapSource:function(t,e){var n=e.payload.source;return void 0===n?"custom":n}},{type:pt,assignment:ho})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(t,e){},onSnapCancel:function(t,e){},onResizeCancel:function(t,e){},onCloseCancel:function(t,e){},onOpenEnd:function(t,e){},onSnapEnd:function(t,e){},onRezizeEnd:function(t,e){}},services:{onSnapStart:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onOpenStart:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onCloseStart:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onResizeStart:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onSnapEnd:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onOpenEnd:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onCloseEnd:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},onResizeEnd:function(){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},renderVisuallyHidden:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},activate:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},deactivate:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},openSmoothly:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},openImmediately:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},snapSmoothly:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},resizeSmoothly:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}},closeSmoothly:function(t,e){try{return Promise.resolve(fo()).then((function(){}))}catch(t){return Promise.reject(t)}}},guards:{initiallyClosed:function(t){return"CLOSED"===t.initialState},initiallyOpen:function(t){return"OPEN"===t.initialState}}}),go=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],mo=["velocity"],bo=["onRest","config"],wo={tension:170,friction:26},So=wo.tension,xo=wo.friction,Eo=r.forwardRef((function(t,e){var n=t.children,i=t.sibling,o=t.className,a=t.footer,s=t.header,c=t.open,u=t.initialState,l=t.lastSnapRef,f=t.initialFocusRef,d=t.onDismiss,h=t.maxHeight,v=t.defaultSnap,p=void 0===v?ko:v,y=t.snapPoints,g=void 0===y?To:y,m=t.blocking,b=void 0===m||m,w=t.scrollLocking,S=void 0===w||w,x=t.style,E=t.onSpringStart,O=t.onSpringCancel,k=t.onSpringEnd,T=t.reserveScrollBarGap,P=void 0===T?b:T,C=t.expandOnContentDrag,R=void 0!==C&&C,_=oo(t,go),N=function(){var t=(0,r.useState)(!1),e=t[0],n=t[1],i=(0,r.useState)({}),o=i[0],a=i[1],s=(0,r.useCallback)((function(t){return a((function(e){var n;return io({},e,((n={})[t]=!1,n))})),function(){a((function(e){var n;return io({},e,((n={})[t]=!0,n))}))}}),[]);return(0,r.useEffect)((function(){var t=Object.values(o);0!==t.length&&t.every(Boolean)&&n(!0)}),[o]),{ready:e,registerReady:s}}(),j=N.ready,A=N.registerReady,D=(0,r.useRef)(!1),I=(0,r.useRef)(E),L=(0,r.useRef)(O),M=(0,r.useRef)(k);(0,r.useEffect)((function(){I.current=E,L.current=O,M.current=k}),[O,E,k]);var z,V,F=(t=>{const e=ge.fun(t),n=Ye(1,e?t:[t]),r=n[0],i=n[1],o=n[2];return e?[r[0],i,o]:r})((function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}})),B=F[0],H=F[1],G=(0,r.useRef)(null),q=(0,r.useRef)(null),K=(0,r.useRef)(null),U=(0,r.useRef)(null),$=(0,r.useRef)(null),W=(0,r.useRef)(null),X=(0,r.useRef)(0),J=(0,r.useRef)(),Z=(0,r.useRef)(!1),Y=(z=(0,r.useMemo)((function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null}),[]),V=(0,r.useRef)(null==z?void 0:z.matches),(0,r.useDebugValue)(V.current?"reduce":"no-preference"),(0,r.useEffect)((function(){var t=function(t){V.current=t.matches};return null==z||z.addListener(t),function(){return null==z?void 0:z.removeListener(t)}}),[z]),V),Q=function(t){var e=t.targetRef,n=t.enabled,i=t.reserveScrollBarGap,o=(0,r.useRef)({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return(0,r.useDebugValue)(n?"Enabled":"Disabled"),(0,r.useEffect)((function(){if(!n)return o.current.deactivate(),void(o.current={activate:function(){},deactivate:function(){}});var t=e.current,r=!1;o.current={activate:function(){r||(r=!0,fi(t,{allowTouchMove:function(t){return t.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:i}))},deactivate:function(){var e;r&&(r=!1,(e=t)?(ri=ri.filter((function(t){return t.targetElement!==e})),ni?(e.ontouchstart=null,e.ontouchmove=null,ii&&0===ri.length&&(document.removeEventListener("touchmove",ui,Qr?{passive:!1}:void 0),ii=!1)):ri.length||li()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}}}),[n,e,i]),o}({targetRef:q,enabled:j&&S,reserveScrollBarGap:P}),tt=function(t){var e=t.targetRef,n=t.enabled,i=(0,r.useRef)({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return(0,r.useDebugValue)(n?"Enabled":"Disabled"),(0,r.useEffect)((function(){if(!n)return i.current.deactivate(),void(i.current={activate:function(){},deactivate:function(){}});var t=e.current,r=!1,o=[],a=[];i.current={activate:function(){if(!r){r=!0;var e=t.parentNode;document.querySelectorAll("body > *").forEach((function(t){if(t!==e){var n=t.getAttribute("aria-hidden");null!==n&&"false"!==n||(o.push(n),a.push(t),t.setAttribute("aria-hidden","true"))}}))}},deactivate:function(){r&&(r=!1,a.forEach((function(t,e){var n=o[e];null===n?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n)})),o=[],a=[])}}}),[e,n]),i}({targetRef:G,enabled:j&&b}),et=function(t){var e=t.targetRef,n=t.fallbackRef,i=t.initialFocusRef,o=t.enabled,a=(0,r.useRef)({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return(0,r.useDebugValue)(o?"Enabled":"Disabled"),(0,r.useEffect)((function(){if(!o)return a.current.deactivate(),void(a.current={activate:function(){},deactivate:function(){}});var t=n.current,r=Yr(e.current,{onActivate:void 0,initialFocus:i?function(){return(null==i?void 0:i.current)||t}:void 0,fallbackFocus:t,escapeDeactivates:!1,clickOutsideDeactivates:!1}),s=!1;a.current={activate:function(){try{return s?Promise.resolve():(s=!0,Promise.resolve(r.activate()).then((function(){return Promise.resolve(new Promise((function(t){return setTimeout((function(){return t(void 0)}),0)}))).then((function(){}))})))}catch(t){return Promise.reject(t)}},deactivate:function(){s&&(s=!1,r.deactivate())}}}),[o,n,i,e]),a}({targetRef:G,fallbackRef:W,initialFocusRef:f||void 0,enabled:j&&b&&!1!==f}),nt=function(t){var e=t.getSnapPoints,n=t.heightRef,i=t.lastSnapRef,o=t.ready,a=function(t){var e=t.contentRef,n=t.controlledMaxHeight,i=t.footerEnabled,o=t.footerRef,a=t.headerEnabled,s=t.headerRef,c=t.registerReady,u=t.resizeSourceRef,l=(0,r.useMemo)((function(){return c("contentHeight")}),[c]),f=function(t,e,n){var i=(0,r.useMemo)((function(){return e("maxHeight")}),[e]),o=(0,r.useState)((function(){return co(t)||"undefined"!=typeof window?window.innerHeight:0})),a=o[0],s=o[1],c=a>0,u=(0,r.useRef)(0);return(0,r.useDebugValue)(t?"controlled":"auto"),(0,r.useEffect)((function(){c&&i()}),[c,i]),ao((function(){if(t)return s(co(t)),void(n.current="maxheightprop");var e=function(){u.current||(u.current=requestAnimationFrame((function(){s(window.innerHeight),n.current="window",u.current=0})))};return window.addEventListener("resize",e),s(window.innerHeight),n.current="window",i(),function(){window.removeEventListener("resize",e),cancelAnimationFrame(u.current)}}),[t,i,n]),a}(n,c,u),d=lo(s,{label:"headerHeight",enabled:a,resizeSourceRef:u}),h=lo(e,{label:"contentHeight",enabled:!0,resizeSourceRef:u}),v=lo(o,{label:"footerHeight",enabled:i,resizeSourceRef:u}),p=Math.min(f-d-v,h)+d+v;(0,r.useDebugValue)("minHeight: "+p);var y=h>0;return(0,r.useEffect)((function(){y&&l()}),[y,l]),{maxHeight:f,minHeight:p,headerHeight:d,footerHeight:v}}({contentRef:t.contentRef,controlledMaxHeight:t.controlledMaxHeight,footerEnabled:t.footerEnabled,footerRef:t.footerRef,headerEnabled:t.headerEnabled,headerRef:t.headerRef,registerReady:t.registerReady,resizeSourceRef:t.resizeSourceRef}),s=a.maxHeight,c=a.minHeight,u=a.headerHeight,l=a.footerHeight,f=function(t,e){var n=[].concat(t).map(co).reduce((function(t,n){return t.add(so(n,0,e)),t}),new Set),r=Array.from(n),i=Math.min.apply(Math,r);if(Number.isNaN(i))throw new TypeError("minSnap is NaN");var o=Math.max.apply(Math,r);if(Number.isNaN(o))throw new TypeError("maxSnap is NaN");return{snapPoints:r,minSnap:i,maxSnap:o}}(o?e({height:n.current,footerHeight:l,headerHeight:u,minHeight:c,maxHeight:s}):[0],s),d=f.snapPoints,h=f.minSnap,v=f.maxSnap;return(0,r.useDebugValue)("minSnap: "+h+", maxSnap:"+v),{minSnap:h,maxSnap:v,findSnap:function(t){var e=co("function"==typeof t?t({footerHeight:l,headerHeight:u,height:n.current,minHeight:c,maxHeight:s,snapPoints:d,lastSnap:i.current}):t);return d.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}),h)},maxHeight:s}}({contentRef:K,controlledMaxHeight:h,footerEnabled:!!a,footerRef:$,getSnapPoints:g,headerEnabled:!1!==s,headerRef:U,heightRef:X,lastSnapRef:l,ready:j,registerReady:A,resizeSourceRef:J}),rt=nt.minSnap,it=nt.maxSnap,ot=nt.maxHeight,at=nt.findSnap,st=(0,r.useRef)(ot),ct=(0,r.useRef)(rt),ut=(0,r.useRef)(it),lt=(0,r.useRef)(at),ft=(0,r.useRef)(0);ao((function(){st.current=ot,ut.current=it,ct.current=rt,lt.current=at,ft.current=at(p)}),[at,p,ot,it,rt]);var dt=(0,r.useCallback)((function(t){var e=t.onRest,n=t.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=oo(n,mo),a=oo(t,bo);return new Promise((function(t){return H(io({},a,{config:io({velocity:i},o,{mass:1,tension:So,friction:Math.max(xo,xo+(xo-xo*i))}),onRest:function(){var n=[].slice.call(arguments);t.apply(void 0,n),null==e||e.apply(void 0,n)}}))}))}),[H]),ht=ve(yo,{devTools:!1,actions:{onOpenCancel:(0,r.useCallback)((function(){return null==L.current?void 0:L.current({type:"OPEN"})}),[]),onSnapCancel:(0,r.useCallback)((function(t){return null==L.current?void 0:L.current({type:"SNAP",source:t.snapSource})}),[]),onCloseCancel:(0,r.useCallback)((function(){return null==L.current?void 0:L.current({type:"CLOSE"})}),[]),onResizeCancel:(0,r.useCallback)((function(){return null==L.current?void 0:L.current({type:"RESIZE",source:J.current})}),[]),onOpenEnd:(0,r.useCallback)((function(){return null==M.current?void 0:M.current({type:"OPEN"})}),[]),onSnapEnd:(0,r.useCallback)((function(t,e){return null==M.current?void 0:M.current({type:"SNAP",source:t.snapSource})}),[]),onResizeEnd:(0,r.useCallback)((function(){return null==M.current?void 0:M.current({type:"RESIZE",source:J.current})}),[])},context:{initialState:u},services:{onSnapStart:(0,r.useCallback)((function(t,e){try{return Promise.resolve(null==I.current?void 0:I.current({type:"SNAP",source:e.payload.source||"custom"}))}catch(t){return Promise.reject(t)}}),[]),onOpenStart:(0,r.useCallback)((function(){try{return Promise.resolve(null==I.current?void 0:I.current({type:"OPEN"}))}catch(t){return Promise.reject(t)}}),[]),onCloseStart:(0,r.useCallback)((function(){try{return Promise.resolve(null==I.current?void 0:I.current({type:"CLOSE"}))}catch(t){return Promise.reject(t)}}),[]),onResizeStart:(0,r.useCallback)((function(){try{return Promise.resolve(null==I.current?void 0:I.current({type:"RESIZE",source:J.current}))}catch(t){return Promise.reject(t)}}),[]),onSnapEnd:(0,r.useCallback)((function(t,e){try{return Promise.resolve(null==M.current?void 0:M.current({type:"SNAP",source:t.snapSource}))}catch(t){return Promise.reject(t)}}),[]),onOpenEnd:(0,r.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"OPEN"}))}catch(t){return Promise.reject(t)}}),[]),onCloseEnd:(0,r.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"CLOSE"}))}catch(t){return Promise.reject(t)}}),[]),onResizeEnd:(0,r.useCallback)((function(){try{return Promise.resolve(null==M.current?void 0:M.current({type:"RESIZE",source:J.current}))}catch(t){return Promise.reject(t)}}),[]),renderVisuallyHidden:(0,r.useCallback)((function(t,e){try{return Promise.resolve(dt({y:ft.current,ready:0,maxHeight:st.current,maxSnap:ut.current,minSnap:ft.current,immediate:!0})).then((function(){}))}catch(t){return Promise.reject(t)}}),[dt]),activate:(0,r.useCallback)((function(t,e){try{return D.current=!0,Promise.resolve(Promise.all([Q.current.activate(),et.current.activate(),tt.current.activate()])).then((function(){}))}catch(t){return Promise.reject(t)}}),[tt,et,Q]),deactivate:(0,r.useCallback)((function(){try{return Q.current.deactivate(),et.current.deactivate(),tt.current.deactivate(),D.current=!1,Promise.resolve()}catch(t){return Promise.reject(t)}}),[tt,et,Q]),openImmediately:(0,r.useCallback)((function(){try{return X.current=ft.current,Promise.resolve(dt({y:ft.current,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ft.current,immediate:!0})).then((function(){}))}catch(t){return Promise.reject(t)}}),[dt]),openSmoothly:(0,r.useCallback)((function(){try{return Promise.resolve(dt({y:0,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ft.current,immediate:!0})).then((function(){return X.current=ft.current,Promise.resolve(dt({y:ft.current,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ft.current,immediate:Y.current})).then((function(){}))}))}catch(t){return Promise.reject(t)}}),[dt,Y]),snapSmoothly:(0,r.useCallback)((function(t,e){try{var n=lt.current(t.y);return X.current=n,l.current=n,Promise.resolve(dt({y:n,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ct.current,immediate:Y.current,config:{velocity:t.velocity}})).then((function(){}))}catch(t){return Promise.reject(t)}}),[dt,l,Y]),resizeSmoothly:(0,r.useCallback)((function(){try{var t=lt.current(X.current);return X.current=t,l.current=t,Promise.resolve(dt({y:t,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ct.current,immediate:"element"!==J.current||Y.current})).then((function(){}))}catch(t){return Promise.reject(t)}}),[dt,l,Y]),closeSmoothly:(0,r.useCallback)((function(t,e){try{return dt({minSnap:X.current,immediate:!0}),X.current=0,Promise.resolve(dt({y:0,maxHeight:st.current,maxSnap:ut.current,immediate:Y.current})).then((function(){return Promise.resolve(dt({ready:0,immediate:!0})).then((function(){}))}))}catch(t){return Promise.reject(t)}}),[dt,Y])}}),vt=ht[0],pt=ht[1];(0,r.useEffect)((function(){j&&pt(c?"OPEN":"CLOSE")}),[c,pt,j]),ao((function(){(ot||it||rt)&&pt("RESIZE")}),[ot,it,rt,pt]),(0,r.useEffect)((function(){return function(){Q.current.deactivate(),et.current.deactivate(),tt.current.deactivate()}}),[tt,et,Q]),(0,r.useImperativeHandle)(e,(function(){return{snapTo:function(t,e){var n=void 0===e?{}:e,r=n.velocity,i=void 0===r?1:r,o=n.source,a=void 0===o?"custom":o;pt("SNAP",{payload:{y:lt.current(t),velocity:i,source:a}})},get height(){return X.current}}}),[pt]),(0,r.useEffect)((function(){var t=q.current,e=function(t){Z.current&&t.preventDefault()},n=function(e){t.scrollTop<0&&(requestAnimationFrame((function(){t.style.overflow="hidden",t.scrollTop=0,t.style.removeProperty("overflow")})),e.preventDefault())};return R&&(t.addEventListener("scroll",e),t.addEventListener("touchmove",e),t.addEventListener("touchstart",n)),function(){t.removeEventListener("scroll",e),t.removeEventListener("touchmove",e),t.removeEventListener("touchstart",n)}}),[R,q]);var yt=function(t,e){void 0===e&&(e={}),or.set("drag",Cr);var n=(0,r.useRef)();return n.current||(n.current=Rr(nr,Nr)),xr({drag:t},n.current(e))}((function(t){var e=t.args,n=(e=void 0===e?[]:e)[0],r=(n=void 0===n?{}:n).closeOnTap,i=void 0!==r&&r,o=n.isContentDragging,a=void 0!==o&&o,s=t.cancel,c=t.direction[1],u=t.down,l=t.first,f=t.last,h=t.memo,v=void 0===h?B.y.getValue():h,p=t.tap,y=t.velocity,g=-1*t.movement[1];if(!D.current)return s(),v;if(d&&i&&p)return s(),setTimeout((function(){return d()}),0),v;if(p)return v;var m=v+g,b=g*y,w=Math.max(ct.current,Math.min(ut.current,m+2*b));if(!u&&d&&c>0&&m+b<ct.current/2)return s(),d(),v;var S=u?d||ct.current!==ut.current?Ln(m,d?0:ct.current,ut.current,.55):m<ct.current?Ln(m,ct.current,2*ut.current,.55):Ln(m,ct.current/2,ut.current,.55):w;return R&&a?(S>=ut.current&&(S=ut.current),v===ut.current&&q.current.scrollTop>0&&(S=ut.current),Z.current=S<ut.current):Z.current=!1,l&&pt("DRAG"),f?(pt("SNAP",{payload:{y:S,velocity:y>.05?y:1,source:"dragging"}}),v):(H({y:S,ready:1,maxHeight:st.current,maxSnap:ut.current,minSnap:ct.current,immediate:!0,config:{velocity:y}}),v)}),{filterTaps:!0});if(Number.isNaN(ut.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(ct.current))throw new TypeError("minSnapRef is NaN!!");var gt=function(t){var e,n=t.spring,r=Ue([n.y,n.maxHeight],(function(t,e){return Math.round(so(e-t,0,16))+"px"})),i=Ue([n.y,n.minSnap,n.maxSnap],(function(t,e,n){return so(t,e,n)+"px"})),o=Ue([n.y,n.minSnap,n.maxSnap],(function(t,e,n){return t<e?e-t+"px":t>n?n-t+"px":"0px"})),a=Ue([n.y,n.maxSnap],(function(t,e){return t>=e?Math.ceil(t-e):0})),s=Ue([n.y,n.minSnap],(function(t,e){if(!e)return 0;var n=Math.max(e/2-45,0);return so((t-n)*(1/(Math.min(e/2+45,e)-n)+0),0,1)})),c=Ue([n.y,n.minSnap],(function(t,e){return e?so(t/e,0,1):0}));return(e={})["--rsbs-content-opacity"]=s,e["--rsbs-backdrop-opacity"]=c,e["--rsbs-antigap-scale-y"]=a,e["--rsbs-overlay-translate-y"]=o,e["--rsbs-overlay-rounded"]=r,e["--rsbs-overlay-h"]=i,e}({spring:B});return r.createElement(Rn.div,io({},_,{"data-rsbs-root":!0,"data-rsbs-state":Oo.find(vt.matches),"data-rsbs-is-blocking":b,"data-rsbs-is-dismissable":!!d,"data-rsbs-has-header":!!s,"data-rsbs-has-footer":!!a,className:o,ref:G,style:io({},gt,x,{opacity:B.ready})}),i,b&&r.createElement("div",io({key:"backdrop","data-rsbs-backdrop":!0},yt({closeOnTap:!0}))),r.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:W,onKeyDown:function(t){"Escape"===t.key&&(t.stopPropagation(),d&&d())}},!1!==s&&r.createElement("div",io({key:"header","data-rsbs-header":!0,ref:U},yt()),s),r.createElement("div",io({key:"scroll","data-rsbs-scroll":!0,ref:q},R?yt({isContentDragging:!0}):{}),r.createElement("div",{"data-rsbs-content":!0,ref:K},n)),a&&r.createElement("div",io({key:"footer",ref:$,"data-rsbs-footer":!0},yt()),a)))})),Oo=["closed","opening","open","closing","dragging","snapping","resizing"];function ko(t){var e=t.lastSnap;return null!=e?e:Math.min.apply(Math,t.snapPoints)}function To(t){return t.minHeight}var Po=["onSpringStart","onSpringEnd","skipInitialTransition"],Co=(0,r.forwardRef)((function(t,e){var n=t.onSpringStart,i=t.onSpringEnd,o=t.skipInitialTransition,a=oo(t,Po),s=(0,r.useState)(!1),c=s[0],l=s[1],f=(0,r.useRef)(),d=(0,r.useRef)(null),h=(0,r.useRef)(o&&a.open?"OPEN":"CLOSED");ao((function(){if(a.open)return cancelAnimationFrame(f.current),l(!0),function(){h.current="CLOSED"}}),[a.open]);var v=(0,r.useCallback)((function(t){try{return Promise.resolve(null==n?void 0:n(t)).then((function(){"OPEN"===t.type&&cancelAnimationFrame(f.current)}))}catch(t){return Promise.reject(t)}}),[n]),p=(0,r.useCallback)((function(t){try{return Promise.resolve(null==i?void 0:i(t)).then((function(){"CLOSE"===t.type&&(f.current=requestAnimationFrame((function(){return l(!1)})))}))}catch(t){return Promise.reject(t)}}),[i]);return c?r.createElement(u,{"data-rsbs-portal":!0},r.createElement(Eo,io({},a,{lastSnapRef:d,ref:e,initialState:h.current,onSpringStart:v,onSpringEnd:p}))):null}))},2473:function(t){"use strict";var e=function(){};t.exports=e},1955:function(t,e){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var r=function t(e,r){function i(t,i,o){if("undefined"!==typeof document){"number"===typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=t+"="+e.write(i,t)+a}}return Object.create({set:i,get:function(t){if("undefined"!==typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(c){}}return t?r[t]:r}},remove:function(t,e){i(t,"",n({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,n({},this.attributes,e))},withConverter:function(e){return t(n({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});e.Z=r}}]);